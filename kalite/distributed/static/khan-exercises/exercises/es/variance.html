<!DOCTYPE html>
<html data-require="math math-format word-problems stat">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<title>Varianza</title>
<script src="../khan-exercise.js"></script>
</head>
<body>
    <div class="exercise">
        <div class="vars">
            <var id="DATA_POINTS">randRange( 4, 6 )</var>
            <var id="POPULATION">randRange( 20, 50 )</var>
            <var id="TGT_MEAN">animalAvgLifespan( 1 )</var>
            <var id="TGT_STDDEV">animalStddevLifespan( 1 )</var>
            <var id="DATA">$.map(randGaussian(TGT_MEAN,TGT_STDDEV,DATA_POINTS),function(e){return e=1&gt;e?1:round(e),randRange(1,e)})</var>
            <var id="MEAN">roundTo( 1, mean( DATA ) )</var>
            <var id="SQR_DEV">$.map( DATA, function( x ) { return roundTo( 2, ( x - MEAN ) * ( x - MEAN ) ); })</var>
            <var id="VARIANCE">roundTo( 2, sum( SQR_DEV ) / ( DATA_POINTS - 1 ) )</var>
            <var id="VARIANCE_POP">roundTo( 2, sum( SQR_DEV ) /  DATA_POINTS )</var>
            <var id="YEAR">new Plural(function(e){return $.ngettext({lang:"es-ES",messages:["años","años"]},e)})</var>
        <var id="YEARS_OLD">$._("%(years)s a\u00f1os", {years: plural_form(YEAR, MEAN)})</var>
        <var id="YEAR_TEXT">$._("a\u00f1os")</var>
        <var id="YEARS_TEXT">$._("a\u00f1os")</var>
        </div> <!-- vars -->

        <div class="problems">

            <div id="population" data-calculator="">
                <div class="problem" data-else="">
                    <p>Has encontrado las siguientes edades (en años) de todos los <var>DATA_POINTS</var> <var>plural_form(animal( 1 ), DATA_POINTS)</var> en el zoológico local:</p>
                    <p><code>\qquad<var>DATA.join( ",\\enspace " )</var></code></p>
                </div>

                <p class="question">¿Cual es el promedio de la edad de <var>plural_form(animal( 1 ))</var> en tu zoológico? ¿Cual es la varianza? Puedes redondear tus respuestas al decimal mas cercano.</p>

                <div class="solution" data-type="multiple">
                    <p>Edad promedio:<br><code>\quad</code> <span class="sol short40" data-inexact="" data-max-error="0.15" data-type="decimal"><var>mean( DATA )</var></span> años</p>
                    <p>Varianza:<br><code>\quad</code> <span class="sol short40" data-inexact="" data-max-error="0.15" data-type="decimal"><var>sum( SQR_DEV ) / DATA_POINTS</var></span> años<code>^2</code></p>
                    <div class="example">decimales como <code>7.5</code>
</div>
                    <div class="example">respuestas dentro de <code>\pm 0.15</code> pueden ser redondeadas en cierta medida</div>
                </div> <!-- solution -->

                <div class="hints">
                    <p>Como tenemos los datos de todos los <var>DATA_POINTS</var> <var>plural_form(animal( 1 ), DATA_POINTS)</var> en el zoológico, somos capaces de calcular la <span class="hint_blue">media de la población</span> <code>(\color{<var>BLUE</var>}{\mu})</code> y la <span class="hint_pink">varianza de la población</span> <code>(\color{<var>PINK</var>}{\sigma^2})</code>.</p>

                    <div>
                        <p>Para encontrar la <span class="hint_blue">media de la población</span>, suma los valores de todas las <code class="hint_green"><var>DATA_POINTS</var></code> edades y divide entre <code class="hint_green"><var>DATA_POINTS</var></code>.</p>
                        <p>
                            <code>
                                \color{<var>BLUE</var>}{\mu} \quad = \quad
                                \dfrac{\sum\limits_{i=1}^{\color{<var>GREEN</var>}{N}} x_i}{\color{<var>GREEN</var>}{N}} \quad = \quad
                                \dfrac{\sum\limits_{i=1}^{\color{<var>GREEN</var>}{<var>DATA_POINTS</var>}} x_i}{\color{<var>GREEN</var>}{<var>DATA_POINTS</var>}}
                            </code>
                        </p>
                    </div>

                    <p>
                        <code>
                                \color{<var>BLUE</var>}{\mu} \quad = \quad
                                \dfrac{<var>plus.apply( KhanUtil, DATA )</var>}{\color{<var>GREEN</var>}{<var>DATA_POINTS</var>}} \quad = \quad
                                \color{<var>BLUE</var>}{<var>MEAN</var>\text{ <var>YEARS_OLD</var>}}
                        </code>
                    </p>

                    <div>
                        <p>Encuentra la <span class="hint_purple"> desviación de la media al cuadrado </span> para cada <var>animal(1)</var>.</p>
                        <div class="fake_header">
                            <span style="width: 100px;">Edad<br><code>x_i</code></span><span style="width: 150px;">
                                <span class="hint_gray">Distancia de la media</span>
                                <code>(x_i - \color{<var>BLUE</var>}{\mu})</code>
                            </span><span style="width: 150px;">
                                <code>(x_i - \color{<var>BLUE</var>}{\mu})^2</code>
                            </span>
                        </div>
                        <div class="fake_row" data-each="DATA as i, POINT">
                            <span style="width: 100px;">
                                <code><var>POINT</var></code> <var>plural_form(YEAR, POINT )</var>
                            </span><span class="hint_gray" style="width: 150px;">
                                <code><var>roundTo( 2, POINT - MEAN )</var></code> <var>plural_form(YEAR, roundTo( 2, POINT - MEAN ) )</var>
                            </span><span class="hint_purple" style="width: 150px;">
                                <code><var>SQR_DEV[ i ]</var></code> <var>plural_form(YEAR, SQR_DEV[ i ] )</var><code>^2</code>
                            </span>
                        </div>
                    </div>

                    <div>
                        <p>Como usamos la <span class="hint_blue"> media de la población </span><code>(\color{<var>BLUE</var>}{\mu})</code> para calcular las <span class="hint_purple"> desviaciones de la media al cuadrado </span>, podemos encontrar la <span class="hint_red"> varianza </span> <code>(\color{red}{\sigma^2})</code>, sin introducir sesgo, simplemente promediando <span class="hint_purple"> las desviaciones de la media al cuadrado </span>:</p>
                        <p>
                            <code>
                                \color{red}{\sigma^2} \quad = \quad
                                \dfrac{\sum\limits_{i=1}^{\color{<var>GREEN</var>}{N}} (x_i - \color{<var>BLUE</var>}{\mu})^2}{\color{<var>GREEN</var>}{N}}
                            </code>
                        </p>
                    </div>

                    <p>
                        <code>
                            \color{red}{\sigma^2} \quad = \quad
                            \dfrac{<var>plus.apply( KhanUtil, $.map( SQR_DEV, function( x ) { return "\\color{purple}{" + x + "}"; }) )</var>}
                            {\color{<var>GREEN</var>}{<var>DATA_POINTS</var>}}
                        </code>
                    </p>

                    <p>
                        <code>
                            \color{red}{\sigma^2} \quad = \quad
                            \dfrac{\color{purple}{<var>roundTo( 2, sum( SQR_DEV ) )</var>}}{\color{<var>GREEN</var>}{<var>DATA_POINTS</var>}} \quad = \quad
                            \color{red}{<var>VARIANCE_POP</var>\text{ <var>plural_form(YEAR, VARIANCE_POP )</var>}^2}
                        </code>
                    </p>

                    <p><strong>
                        <span data-if="$.ngetpos(MEAN, 'es-ES') === 0">El promedio <var>animal( 1 )</var> en el zoológico es <var>MEAN</var> año.</span><span data-else-if="$.ngetpos(MEAN, 'es-ES') === 1">El <var>animal( 1 )</var> promedio en el zoológico tiene <var>MEAN</var> años.</span>
                        <span data-if="$.ngetpos(VARIANCE_POP, 'es-ES') === 0">La varianza de la población es <var>VARIANCE_POP</var> años <code>^2</code>.</span><span data-else-if="$.ngetpos(VARIANCE_POP, 'es-ES') === 1">La varianza de la población es <var>VARIANCE_POP</var> años <code>^2</code>.</span>
                    </strong></p>

                </div> <!-- hints -->
            </div> <!-- population -->

            <div id="sample" data-calculator="">
                <div class="problem" data-else="">
                    <p>Has encontrado las siguientes edades (en años) de <var>DATA_POINTS</var> <var>plural_form(animal( 1 ), DATA_POINTS)</var>. Los <var>plural_form(animal( 1 ))</var> fueron seleccionados al azar de <var>POPULATION</var> <var>plural_form(animal( 1 ), POPULATION)</var> en el zoológico local:</p>
                    <p><code>\qquad<var>DATA.join( ",\\enspace " )</var></code></p>
                </div>

                <p class="question">Basándonos en tu muestra, ¿cuál es la edad promedio de los <var>plural_form(animal( 1 ))</var>? ¿Cuál es la varianza? Puedes redondear tu respuesta al decimal más cercano.</p>

                <div class="solution" data-type="multiple">
                    <p>Edad promedio:<br><code>\quad</code> <span class="sol short40" data-inexact="" data-max-error="0.15" data-type="decimal"><var>mean( DATA )</var></span> años</p>
                    <p>Varianza:<br><code>\quad</code> <span class="sol short40" data-inexact="" data-max-error="0.15" data-type="decimal"><var>sum( SQR_DEV ) / ( DATA_POINTS - 1 )</var></span> años<code>^2</code></p>
                    <div class="example">decimales como <code>0.75</code>
</div>
                    <div class="example">respuestas dentro de <code>\pm 0.15</code> pueden ser redondeadas en cierta medida</div>
                </div> <!-- solution -->

                <div class="hints">
                    <p>Como sólo tenemos datos de una pequeña muestra de los <var>POPULATION</var> <var>plural_form(animal( 1 ), POPULATION)</var>, sólo somos capaces de aproximar la media y la varianza de la población, encontrando la <span class="hint_blue">media muestral</span> <code>(\color{<var>BLUE</var>}{\overline{x}})</code> y la <span class="hint_pink">varianza muestral</span> <code>(\color{<var>PINK</var>}{s^2})</code>.</p>

                    <div>
                        <p>Para encontrar la <span class="hint_blue">media muestral</span>, suma los valores de todas las <code class="hint_green"><var>DATA_POINTS</var></code> muestras y divide entre <code class="hint_green"><var>DATA_POINTS</var></code>.</p>
                        <p>
                            <code>
                                \color{<var>BLUE</var>}{\overline{x}} \quad = \quad
                                \dfrac{\sum\limits_{i=1}^{\color{<var>GREEN</var>}{n}} x_i}{\color{<var>GREEN</var>}{n}} \quad = \quad
                                \dfrac{\sum\limits_{i=1}^{\color{<var>GREEN</var>}{<var>DATA_POINTS</var>}} x_i}{\color{<var>GREEN</var>}{<var>DATA_POINTS</var>}}
                            </code>
                        </p>
                    </div>

                    <p>
                        <code>
                                \color{<var>BLUE</var>}{\overline{x}} \quad = \quad
                                \dfrac{<var>plus.apply( KhanUtil, DATA )</var>}{\color{<var>GREEN</var>}{<var>DATA_POINTS</var>}} \quad = \quad
                                \color{<var>BLUE</var>}{<var>MEAN</var>\text{ <var>YEARS_OLD</var>}}
                        </code>
                    </p>

                    <p data-if="isSingular(MEAN)">
                        Find the <span class="hint_purple">squared deviations from the mean</span> for each sample. Since we don't know the
                        population mean, estimate the mean by using the <span class="hint_blue">sample mean</span> we just calculated
                        <code>(\color{<var>BLUE</var>}{\overline{x}} = \color{<var>BLUE</var>}{<var>MEAN</var>\text{ <var>YEAR_TEXT</var>}})</code>.
                    </p>

                    <div>
                        <div class="fake_header">
                            <span style="width: 100px;">Edad<br><code>x_i</code></span><span style="width: 150px;">
                                <span class="hint_gray">Distancia de la media</span>
                                <code>(x_i - \color{<var>BLUE</var>}{\overline{x}})</code>
                            </span><span style="width: 150px;">
                                <code>(x_i - \color{<var>BLUE</var>}{\overline{x}})^2</code>
                            </span>
                        </div>
                        <div class="fake_row" data-each="DATA as i, POINT">
                            <span style="width: 100px;">
                                <code><var>POINT</var></code> <var>plural_form(YEAR, POINT )</var>
                            </span><span class="hint_gray" style="width: 150px;">
                                <code><var>roundTo( 2, POINT - MEAN )</var></code> <var>plural_form(YEAR, roundTo( 2, POINT - MEAN ) )</var>
                            </span><span class="hint_purple" style="width: 150px;">
                                <code><var>SQR_DEV[ i ]</var></code> <var>plural_form(YEAR, SQR_DEV[ i ] )</var><code>^2</code>
                            </span>
                        </div>
                    </div>

                    <div>
                        <p>Normalmente podemos encontrar la varianza <code>(\color{red}{s^2})</code> promediando las <span class="hint_purple">desviaciones al cuadrado de la media</span>. Pero recuerda que no conocemos la verdadera media de la población—tuvimos que estimarla usando<span class="hint_blue">media muestral</span>.</p>
                        <p>Es probable que la edad de cualquier <var>animal( 1 )</var> en nuestra muestra esté más cerca al promedio de los <var>DATA_POINTS</var> <var>plural_form(animal( 1 ), DATA_POINTS)</var> que miramos, en lugar del promedio de todos los <var>plural_form(animal( 1 ), POPULATION)</var> en el zoológico. Debido a eso, las <span class="hint_purple">desviaciones de la media al cuadrado</span> que calculamos probablemente subestimarán las desviaciones reales de la media de población.</p>
                        <p>Para compensar esta subestimación, en lugar de simplemente promediar las <span class="hint_purple"> desviación cuadradas de la media </span>, las sumamos y las dividimos entre <code class="hint_green">n - 1</code>.</p>
                        <p>
                            <code>
                                \color{red}{s^2} \quad = \quad
                                \dfrac{\sum\limits_{i=1}^{\color{<var>GREEN</var>}{n}} (x_i - \color{<var>BLUE</var>}{\overline{x}})^2}{\color{<var>GREEN</var>}{n - 1}}
                            </code>
                        </p>
                    </div>

                    <p>
                        <code>
                            \color{red}{s^2} \quad = \quad
                            \dfrac{<var>plus.apply( KhanUtil, $.map( SQR_DEV, function( x ) { return "\\color{purple}{" + x + "}"; }) )</var>}
                            {\color{<var>GREEN</var>}{<var>DATA_POINTS</var> - 1}}
                        </code>
                    </p>

                    <p>
                        <code>
                            \color{red}{s^2} \quad = \quad
                            \dfrac{\color{purple}{<var>roundTo( 2, sum( SQR_DEV ) )</var>}}{\color{<var>GREEN</var>}{<var>DATA_POINTS - 1</var>}} \quad = \quad
                            \color{red}{<var>VARIANCE</var>\text{ <var>plural_form(YEAR, VARIANCE )</var>}^2}
                        </code>
                    </p>

                    <p><strong>
                        <span data-if="$.ngetpos(MEAN, 'es-ES') === 0">Podemos estimar que el promedio <var>animal( 1 )</var> en el zoológico es <var>MEAN</var> años.</span><span data-else-if="$.ngetpos(MEAN, 'es-ES') === 1">Podemos estimar que el promedio  de <var>animal( 1 )</var> en el zoológico tiene <var>MEAN</var> años.</span>
                        <span data-if="$.ngetpos(VARIANCE, 'es-ES') === 0">Hay una varianza de <var>VARIANCE</var> años<code>^2</code>.</span><span data-else-if="$.ngetpos(VARIANCE, 'es-ES') === 1">Hay una varianza de <var>VARIANCE</var> años<code>^2</code>.</span>
                    </strong></p>

                </div> <!-- hints -->
            </div> <!-- sample -->

        </div> <!-- problems -->
    </div>
</body>
</html>
