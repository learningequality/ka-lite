<!DOCTYPE html>
<html data-require="math kmatrix matrix-input">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Multiplicando una matriz por un vector</title>
<script src="../khan-exercise.js"></script>
</head>
<body>
    <div class="exercise">

    <div class="vars">
        <var id="DIM_3">DIM_2</var>
        <var id="DIM_4">1</var>
        <var id="MAT_1">makeMatrix(randRange(-2, 5, DIM_1, DIM_2))</var>
        <var id="MAT_2">makeMatrix(randRange(-2, 5, DIM_3, DIM_4))</var>

        <var id="SOLN_MAT">matrixMult(MAT_1,MAT_2)</var>
        <var id="PADDED_SOLN_MAT">matrixPad(SOLN_MAT, 3, 3)</var>

        <var id="PRETTY_MAT_1_ID">"\\textbf " + randFromArray("ABCDEF")</var>
        <var id="PRETTY_MAT_2_ID">"\\textbf " + randFromArray("vw")</var>

        <!-- For generating hint matrices-->
        <var id="ROW_COLORS">[GREEN, BLUE, GRAY]</var>
        <var id="COL_COLORS">[ORANGE]</var>

        <var id="FINAL_HINT_MAT">makeMultHintMatrix(MAT_1,MAT_2,ROW_COLORS,COL_COLORS)</var>

        <var id="ROW">$._("fila")</var>
        <var id="COLUMN">$._("columna")</var>
    </div>

    <div class="problem">
        <p>
            <code><var>PRETTY_MAT_1_ID</var> = <var>printSimpleMatrix(MAT_1)</var></code>
        </p>
        <p>
            <code><var>PRETTY_MAT_2_ID</var> = <var>printSimpleMatrix(MAT_2)</var></code>
        </p>
    </div>

    <p class="question">¿Qué es <code><var>PRETTY_MAT_1_ID + PRETTY_MAT_2_ID</var></code>?</p>

    <div class="hints">
        <div>
            <p>Como <code><var>PRETTY_MAT_1_ID</var></code> tiene dimensiones <code>(<var>DIM_1 + "\\times" + DIM_2</var>)</code> y <code><var>PRETTY_MAT_2_ID</var></code> tiene dimensiones <code>(<var>DIM_3 + "\\times" + DIM_4</var>)</code>, la matriz solución tendrá dimensiones <code>(<var>DIM_1 + "\\times" + DIM_4</var>)</code>.</p>
            <p>
                <code>
                    <var>PRETTY_MAT_1_ID + PRETTY_MAT_2_ID</var>
                    =
                    <var>printColoredDimMatrix(MAT_1, ROW_COLORS, true)</var>
                    <var>printColoredDimMatrix(MAT_2, COL_COLORS, false)</var>
                    =
                    <var>printSimpleMatrix(maskMatrix(FINAL_HINT_MAT,[]))</var>
                </code>
            </p>
        </div>
        <div>
            <p>Para encontrar el elemento en cualquier fila <code>i</code>, columna <code>j</code> de la matriz solución, multiplica los elementos en la fila <code>i</code> de la primera matriz, <code><var>PRETTY_MAT_1_ID</var></code>, con los elementos correspondientes en la columna <code>j</code> de la segunda matriz, <code><var>PRETTY_MAT_2_ID</var></code>, y suma los productos.</p>
        </div>
        <div>
            <p>Así, para encontrar el elemento en la fila 1, columna 1 de la matriz solución, primero multiplica el primer elemento en la <code><var>colorMarkup("\\text{" + ROW + " }1", ROW_COLORS[0])</var></code> de <code><var>PRETTY_MAT_1_ID</var></code> con el primer elemento en la <code><var>colorMarkup("\\text{" + COLUMN + " }1", COL_COLORS[0])</var></code> de <code><var>PRETTY_MAT_2_ID</var></code>, después multiplica el segundo elemento en la <code><var>colorMarkup("\\text{" + ROW + " }1", ROW_COLORS[0])</var></code> de <code><var>PRETTY_MAT_1_ID</var></code> con el segundo elemento en la  <code><var>colorMarkup("\\text{" + COLUMN + " }1", COL_COLORS[0])</var></code> de <code><var>PRETTY_MAT_2_ID</var></code>, y así sucesivamente. Suma los productos.</p>
            <p>
                <code>
                    <var>printSimpleMatrix(maskMatrix(FINAL_HINT_MAT,[[1,1]]))</var>
                </code>
            </p>
        </div>
        <div>
            <p>De forma similar, para encontrar el elemento en la fila 2, columna 1 de la matriz solución, multiplica los elementos en la <code><var>colorMarkup("\\text{" + ROW + " }2", ROW_COLORS[1])</var></code> de <code><var>PRETTY_MAT_1_ID</var></code> con los elementos correspondientes en la <code><var>colorMarkup("\\text{" + COLUMN + " }1", COL_COLORS[0])</var></code> de <code><var>PRETTY_MAT_2_ID</var></code> y suma los productos.</p>
            <p>
                <code>
                    <var>printSimpleMatrix(maskMatrix(FINAL_HINT_MAT,[[1,1],[2,1]]))</var>
                </code>
            </p>
        </div>
        <div>
            <p>Llena el resto:</p>
            <p>
                <code>
                    <var>printSimpleMatrix(FINAL_HINT_MAT)</var>
                </code>
            </p>
        </div>
        <div>
            <p>Después de simplificar, terminamos con:</p>
            <div>
                <code>
                    <var>printSimpleMatrix(SOLN_MAT)</var>
                </code>
            </div>
        </div>
    </div>

    <div class="solution" data-type="multiple">
        <div class="matrix-row" data-each="PADDED_SOLN_MAT as row">
            <span data-each="row as elem">
                <span class="sol" data-forms="integer" data-if="elem !== ''">
                    <var>elem</var>
                </span>
                <span class="sol" data-else="" data-type="text">
                    <var>elem</var>
                </span>
            </span>
        </div>
    </div>

    <div class="problems">

        <!-- 2x1 solution dimensions -->
        <div id="2x2-2x1">
            <div class="vars" data-apply="prependVars">
                <var id="DIM_1">2</var>
                <var id="DIM_2">2</var>
            </div>
        </div>
        <div id="2x3-3x1">
            <div class="vars" data-apply="prependVars">
                <var id="DIM_1">2</var>
                <var id="DIM_2">3</var>
            </div>
        </div>

        <!-- 3x1 solution dimensions -->
        <div id="3x2-2x1">
            <div class="vars" data-apply="prependVars">
                <var id="DIM_1">3</var>
                <var id="DIM_2">2</var>
            </div>
        </div>
    </div>
    </div>
</body>
</html>
