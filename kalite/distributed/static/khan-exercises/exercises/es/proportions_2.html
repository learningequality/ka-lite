<!DOCTYPE html>
<html data-require="math">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script src="../khan-exercise.js"></script><title>Proporciones 2</title>
<style>
        .arrow {
            text-align: right;
            font-size: 200%;
        }

        .lfrac { text-align:right; width:130px; display:inline-block;}
        .rfrac { text-align:left; width:auto; display:inline-block; }
    </style>
</head>
<body>
    <div class="exercise">
        <div class="vars" data-ensure="solutionNumerator % solutionDenominator === 0">

            <var id="xConstant">randRangeNonZero(3, 12)*randRangeNonZero(-1,1)</var>

            <var id="xExpression">"x + " + xConstant</var>
            <var id="insertionIndex">randRange( 0, 3 )</var>
            <var id="inDenominator">insertionIndex &gt; 1 ? false : true</var>
            <var id="inLHS">insertionIndex % 2 !== 0 ? false: true</var>

            <var id="denominator1, denominator2, numerator1, numerator2">function(){var e=randRangeUnique(5,12,3);return e.splice(insertionIndex,0,xExpression),e}()</var>

            <var id="solutionNumerator, solutionDenominator">function(){return numerator1===xExpression?[numerator2*denominator1,denominator2]:numerator2===xExpression?[numerator1*denominator2,denominator1]:denominator1===xExpression?[numerator1*denominator2,numerator2]:[numerator2*denominator1,numerator1]}()</var>

            <var id="SOLUTION">(solutionNumerator/solutionDenominator) - xConstant</var>

            <var id="hint1Multiplier">function(){return numerator1===xExpression?denominator1:numerator2===xExpression?denominator2:xExpression}()</var>

            <var id="hint1Product1, hint1Product2">function(){var e=function(e,r){return r===hint1Multiplier?e:hint1Multiplier===xExpression?"\\dfrac{"+e+"}{"+r+"}("+xExpression+")":"\\dfrac{"+hint1Multiplier*e+"}{"+r+"}"};return[e(numerator1,denominator1),e(numerator2,denominator2)]}()</var>

            <var id="hint2Multiplier">function(){return denominator1===xExpression?"\\dfrac{"+denominator2+"}{"+numerator2+"}":denominator2===xExpression?"\\dfrac{"+denominator1+"}{"+numerator1+"}":hint1Multiplier}()</var>

            <var id="hint2Product1, hint2Product2">function(){return denominator1===xExpression?["\\dfrac{"+solutionNumerator+"}{"+solutionDenominator+"}","("+xExpression+")"]:denominator2===xExpression?["("+xExpression+")","\\dfrac{"+solutionNumerator+"}{"+solutionDenominator+"}"]:[hint1Product1,hint1Product2]}()</var>

            <var id="hint3Product1, hint3Product2">function(){return inLHS&amp;&amp;inDenominator||!inLHS&amp;&amp;!inDenominator?["\\cancel {\\dfrac{"+solutionNumerator+"}{"+solutionDenominator+"}}{"+solutionNumerator/solutionDenominator+"} - "+xConstant,"x"]:["x","\\cancel {\\dfrac{"+solutionNumerator+"}{"+solutionDenominator+"}}{"+solutionNumerator/solutionDenominator+"} - "+xConstant]}()</var>

        </div>

        <!-- TODO: Refactor hints (e.g., show canceling when multiplying through, expand detail) -->

        <div class="hints">
            <div class="spinealign" style="margin-left:-20px;">
                <div class="col1 forty-sixty">
                    <p>Multiplica ambos lados por <code><var>hint1Multiplier</var></code></p>
</div>

                <div class="col2 forty-sixty">
                    <p>
                    <span class="lfrac">
                        <code>
                            \color{red}{ <span data-if="inDenominator">(</span><var>hint1Multiplier</var><span data-if="inDenominator">)</span> \times }
                            \dfrac{<var>numerator1</var>}{<var>denominator1</var>}
                            =
                        </code>
                    </span>
                    <span class="rfrac">
                        <code>
                            \dfrac{<var>numerator2</var>}{<var>denominator2</var>}
                            \color{red}{ \times <span data-if="inDenominator">(</span><var>hint1Multiplier</var><span data-if="inDenominator">)</span> }
                        </code>
                    </span>

                    <br><span class="lfrac arrow">↓</span>
                    <br><span class="lfrac">
                        <code><var>hint1Product1</var> = </code>
                    </span>
                    <span class="rfrac">
                        <code><var>hint1Product2</var></code>
                    </span>
                </p>
</div>
            </div>

            <div class="spinealign" data-if="denominator1 === xExpression || denominator2 === xExpression" style="margin-left:-20px;">
                <div class="col1 forty-sixty">
                    <p>Multiplica ambos lados por <code><var>hint2Multiplier</var></code></p>
</div>
                <div class="col2 forty-sixty">
                    <p>
                        <span class="lfrac">
                            <code>
                                \color{red}{ <var>hint2Multiplier</var> \times }
                                <var>hint1Product1</var>
                                =
                            </code>
                        </span>
                        <span class="rfrac">
                            <code>
                            <var>hint1Product2</var>
                            \color{red}{ \times <var>hint2Multiplier</var> }
                            </code>
                        </span>

                        <br><span class="lfrac arrow">↓</span>
                        <br><span class="lfrac">
                            <code><var>hint2Product1</var> = </code>
                        </span>
                        <span class="rfrac">
                            <code><var>hint2Product2</var></code>
                        </span>
                    </p>
                </div>
            </div>

            <div class="spinealign" style="margin-left:-20px;">
                <div class="col1 forty-sixty">
                    <p><span data-if="xConstant &lt; 0">Suma</span><span data-else="">Resta</span> <code><var>abs(xConstant)</var></code> <span data-if="xConstant &lt; 0">a</span><span data-else="">de</span> cada lado y simplifica para aislar la <code>x</code></p>
                </div>
                <div class="col2 forty-sixty">
                    <span class="lfrac">
                        <code><var>hint2Product1</var> \color{red}{+ <var>-xConstant</var>} = </code>
                    </span>
                    <span class="rfrac">
                        <code><var>hint2Product2</var> \color{red}{+ <var>-xConstant</var>}</code>
                    </span>

                    <br><span class="lfrac arrow">↓</span>
                    <br><span class="lfrac">
                        <code><var>hint3Product1</var> = </code>
                    </span>
                    <span class="rfrac">
                        <code><var>hint3Product2</var></code>
                    </span>

                </div>
            </div>


            <div class="spinealign" style="margin-left:-20px;">
                <div class="col1 forty-sixty">
                    <p><code>x</code> es</p>
</div>
                <div class="col2 forty-sixty">
                    <p><span class="lfrac"><code>=</code></span>
                    <span class="rfrac">
                        <code><var>SOLUTION</var></code>.
                </span></p>
</div>
            </div>

        </div>

        <div class="problems">
            <div class="spinealign">
                <div class="col1 forty-sixty">
                    <p>Resuelve para <code>x</code>.</p>
                </div>
                <div class="col2 forty-sixty">
                    <p>
                        <span class="lfrac"><code>\dfrac{<var>numerator1</var>}{<var>denominator1</var>} = </code></span>
                        <span class="rfrac"><code>\dfrac{<var>numerator2</var>}{<var>denominator2</var>}</code></span></p>
                </div>
            </div>
        </div>

        <div class="solution" data-type="multiple">
            <p>
                <code>x =</code>
                <span class="sol" data-simplify="optional"><var>SOLUTION</var></span>
            </p>
        </div>
    </div>
</body>
</html>
