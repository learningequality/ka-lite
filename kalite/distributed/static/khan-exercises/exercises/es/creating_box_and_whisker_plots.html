<!DOCTYPE html>
<html data-require="math stat graphie interactive">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Creando diagramas de caja</title>
<script src="../khan-exercise.js"></script><style>
        .sortable {
            background: #f8f8f8;
            border: 0;
            border-bottom: 0;
            box-shadow: 0 0 0;
            -moz-box-shadow: 0 0 0;
            -webkit-box-shadow: 0 0 0;
            padding-right: 0;
        }
        .sortable > ul > li {
            width: 28px;
            height: 28px;
            margin-right: 2px;
            font-size: 1em;
            border: 1px solid #ddd;
        }
        .sortable code {
            line-height: 32px;
        }
    </style>
</head>
<body>
<div class="exercise">
    <div class="problems">
        <div>
            <div class="vars" data-ensure="MIN&gt;=0&amp;&amp;15&gt;=MAX&amp;&amp;MIN!==Q1&amp;&amp;Q1!==MEDIAN&amp;&amp;MEDIAN!==Q3&amp;&amp;Q3!==MAX">
                <var id="COUNT">randRange(8, 15)</var>
                <var id="TGT_MEAN">randRange( 5, 10 )</var>
                <var id="TGT_VARIANCE">randRange( 2, 20 )</var>
                <var id="DATA">$.map(_.range(COUNT),function(){return round(randGaussian()*sqrt(TGT_VARIANCE)+TGT_MEAN)})</var>
                <var id="SORTED_DATA">DATA.slice().sort(function(a, b) { return a - b; })</var>
                <var id="MIN">SORTED_DATA[0]</var>
                <var id="MAX">SORTED_DATA[COUNT - 1]</var>
                <var id="MEDIAN">COUNT%2===0?.5*(SORTED_DATA[COUNT/2-1]+SORTED_DATA[COUNT/2]):SORTED_DATA[(COUNT-1)/2]</var>
                <var id="Q1">COUNT%4===0?.5*(SORTED_DATA[COUNT/4-1]+SORTED_DATA[COUNT/4]):COUNT%4===1?.5*(SORTED_DATA[(COUNT-1)/4-1]+SORTED_DATA[(COUNT-1)/4]):COUNT%4===2?SORTED_DATA[(COUNT-2)/4]:SORTED_DATA[(COUNT-3)/4]</var>
                <var id="Q3">COUNT%4===0?.5*(SORTED_DATA[COUNT-COUNT/4-1]+SORTED_DATA[COUNT-COUNT/4]):COUNT%4===1?.5*(SORTED_DATA[COUNT-(COUNT-1)/4-1]+SORTED_DATA[COUNT-(COUNT-1)/4]):COUNT%4===2?SORTED_DATA[COUNT-1-(COUNT-2)/4]:SORTED_DATA[COUNT-1-(COUNT-3)/4]</var>
                <var id="SORTER">createSorter()</var>
            </div>

            <p class="question">Representa los siguientes datos usando un diagrama de cajas. Excluye la mediana cuando calcules los cuartiles:</p>

            <div class="problem">
                <ul id="sortable">
<li data-each="DATA as NUM">
                        <code><var>NUM</var></code>
                    </li>
                </ul>
<p>Si te sirve de algo, puedes arrastrar los números y colocarlos en un orden distinto. El orden no afecta la respuesta. <var>SORTER.init( "sortable" )</var></p>


                <div class="graphie" id="boxplot">for(init({range:[[-.5,15.5],[-3.5,1.5]],scale:[30,30]}),addMouseLayer(),line([0,-2],[15,-2]),tick=0;15&gt;=tick;tick+=1)line([tick,-1.75],[tick,-2.25]),label([tick,-2.25],tick,"below");graph.q0=addMovablePoint({coord:[3.5,0],snapX:.5,constraints:{constrainY:!0},normalStyle:{fill:KhanUtil.BLUE,stroke:KhanUtil.BLUE}}),graph.moveQ0=function(e){graph.q0.setCoord([e,graph.q0.coord[1]]),graph.q0.updateLineEnds(),e&gt;=graph.q1Line.coordA[0]&amp;&amp;graph.moveQ1(e+.5)},graph.q1top=addMovablePoint({coord:[5.5,1],visible:!1}),graph.q1mid=addMovablePoint({coord:[5.5,0],visible:!1}),graph.q1bot=addMovablePoint({coord:[5.5,-1],visible:!1}),graph.moveQ1=function(e){graph.q1top.setCoord([e,graph.q1top.coord[1]]),graph.q1mid.setCoord([e,graph.q1mid.coord[1]]),graph.q1bot.setCoord([e,graph.q1bot.coord[1]]),graph.q1top.updateLineEnds(),graph.q1mid.updateLineEnds(),graph.q1bot.updateLineEnds(),e&lt;=graph.q0.coord[0]?graph.moveQ0(e-.5):e&gt;=graph.medianLine.coordA[0]&amp;&amp;graph.moveM(e+.5)},graph.mtop=addMovablePoint({coord:[7.5,1],visible:!1}),graph.mbot=addMovablePoint({coord:[7.5,-1],visible:!1}),graph.moveM=function(e){graph.mtop.setCoord([e,graph.mtop.coord[1]]),graph.mbot.setCoord([e,graph.mbot.coord[1]]),graph.mtop.updateLineEnds(),graph.mbot.updateLineEnds(),e&lt;=graph.q1Line.coordA[0]?graph.moveQ1(e-.5):e&gt;=graph.q3Line.coordA[0]&amp;&amp;graph.moveQ3(e+.5)},graph.q3top=addMovablePoint({coord:[9.5,1],visible:!1}),graph.q3mid=addMovablePoint({coord:[9.5,0],visible:!1}),graph.q3bot=addMovablePoint({coord:[9.5,-1],visible:!1}),graph.moveQ3=function(e){graph.q3top.setCoord([e,graph.q3top.coord[1]]),graph.q3mid.setCoord([e,graph.q3mid.coord[1]]),graph.q3bot.setCoord([e,graph.q3bot.coord[1]]),graph.q3top.updateLineEnds(),graph.q3mid.updateLineEnds(),graph.q3bot.updateLineEnds(),e&lt;=graph.medianLine.coordA[0]?graph.moveM(e-.5):e&gt;=graph.q4.coord[0]&amp;&amp;graph.moveQ4(e+.5)},graph.q4=addMovablePoint({coord:[11.5,0],snapX:.5,constraints:{constrainY:!0},normalStyle:{fill:KhanUtil.BLUE,stroke:KhanUtil.BLUE}}),graph.moveQ4=function(e){graph.q4.setCoord([e,graph.q4.coord[1]]),graph.q4.updateLineEnds(),e&lt;=graph.q3Line.coordA[0]&amp;&amp;graph.moveQ3(e-.5)},graph.leftLine=addMovableLineSegment({pointA:graph.q0,pointZ:graph.q1mid,fixed:!0}),graph.topLine=addMovableLineSegment({pointA:graph.q1top,pointZ:graph.q3top,fixed:!0}),graph.botLine=addMovableLineSegment({pointA:graph.q1bot,pointZ:graph.q3bot,fixed:!0}),graph.rightLine=addMovableLineSegment({pointA:graph.q3mid,pointZ:graph.q4,fixed:!0}),graph.q1Line=addMovableLineSegment({pointA:graph.q1bot,pointZ:graph.q1top,snapX:.5,constraints:{constrainY:!0}}),graph.medianLine=addMovableLineSegment({pointA:graph.mbot,pointZ:graph.mtop,snapX:.5,constraints:{constrainY:!0}}),graph.q3Line=addMovableLineSegment({pointA:graph.q3bot,pointZ:graph.q3top,snapX:.5,constraints:{constrainY:!0}}),graph.q0.onMove=function(e){return 0&gt;e||e&gt;13?!1:(graph.moveQ0(e),void 0)},graph.q4.onMove=function(e){return 2&gt;e||e&gt;15?!1:(graph.moveQ4(e),void 0)},graph.q1Line.onMove=function(e){var r=this.coordA[0],a=r-e;return.5&gt;r||r&gt;13.5?(graph.moveQ1(a),void 0):(graph.moveQ1(r),void 0)},graph.medianLine.onMove=function(e){var r=this.coordA[0],a=r-e;return 1&gt;r||r&gt;14?(graph.moveM(a),void 0):(graph.moveM(r),void 0)},graph.q3Line.onMove=function(e){var r=this.coordA[0],a=r-e;return 1.5&gt;r||r&gt;14.5?(graph.moveQ3(a),void 0):(graph.moveQ3(r),void 0)}</div>
            </div>
            <div class="solution" data-type="custom">
                <div class="instruction">Arrastra cada parte del diagrama de caja, de izquierda a derecha para que represente correctamente a los datos.</div>
                <div class="guess">[graph.q0.coord[0],graph.q1Line.coordA[0],graph.medianLine.coordA[0],graph.q3Line.coordA[0],graph.q4.coord[0]]</div>
                <div class="validator-function">return _.isEqual(guess,[3.5,5.5,7.5,9.5,11.5])?"":_.isEqual(guess,[abs(MIN),Q1,MEDIAN,Q3,MAX])</div>
                <div class="show-guess">graph.moveQ0(guess[0]),graph.moveQ1(guess[1]),graph.moveM(guess[2]),graph.moveQ3(guess[3]),graph.moveQ4(guess[4])</div>
            </div>
        </div>
    </div>

    <div class="hints">
        <div>
            <p>Empieza por poner los datos en orden:</p>
            <p><code>\qquad \large{<var>SORTED_DATA.join( ", " )</var>}</code></p>
        </div>

        <div>
            <p>Grafica el mínimo valor de la muestra (el número más pequeño):</p>
<p>
            </p>
<p><code>\qquad \large{\color{<var>PINK</var>}{<var>MIN</var>}, <var>SORTED_DATA.slice( 1 ).join( ", " )</var>}</code></p>
            <div class="graphie" data-update="boxplot">style({stroke:PINK,fill:PINK},function(){circle([MIN,-4.5],.13)})</div>
        </div>

        <div>
            <p>Grafica el máximo valor de la muestra (el número más grande):</p>
            <p><code>\qquad \large{<var>SORTED_DATA.slice( 0, -1 ).join( ", " )</var>, \color{<var>PINK</var>}{<var>MAX</var>}}</code></p>
            <div class="graphie" data-update="boxplot">style({stroke:PINK,fill:PINK},function(){circle([MAX,-4.5],.13)})</div>
        </div>

        <div data-if="COUNT % 2 === 1">
            <p>Grafica la mediana (el número de en medio):</p>
            <p><code>
                \qquad \large{<var>SORTED_DATA.slice( 0, (COUNT - 1) / 2 ).join( ", " )</var>,
                \color{<var>PINK</var>}{<var>MEDIAN</var>},
                <var>SORTED_DATA.slice( (COUNT + 1) / 2 ).join( ", " )</var>}
            </code></p>
            <p>Como los datos tienen una cantidad impar de elementos, excluimos la mediana de la lista para calcular los cuartiles.</p>
            <div class="graphie" data-update="boxplot">style({stroke:PINK,strokeWidth:2},function(){line([MEDIAN,-5.5],[MEDIAN,-3.5])})</div>
        </div>

        <div data-else>
            <p>Grafica la mediana (el número de en medio):</p>
            <p><code>
                \qquad \large{<var>SORTED_DATA.slice( 0, COUNT / 2 - 1 ).join( ", " )</var>,
                \color{<var>PINK</var>}{<var>SORTED_DATA[COUNT / 2 - 1]</var>},
                \color{<var>PINK</var>}{<var>SORTED_DATA[COUNT / 2]</var>},
                <var>SORTED_DATA.slice( COUNT / 2 + 1 ).join( ", " )</var>}
            </code></p>
            <p>The median is the average of the middle numbers, so it's equal to <code>\dfrac{<var>SORTED_DATA[COUNT / 2 - 1]</var> + <var>SORTED_DATA[COUNT / 2]</var>}{2} = <var>MEDIAN</var></code>.
            </p>
<p>Como los datos tienen una cantidad par de elementos, incluimos los elementos de en medio en la lista para calcular los cuartiles.</p>
            <div class="graphie" data-update="boxplot">style({stroke:PINK,strokeWidth:2},function(){line([MEDIAN,-5.5],[MEDIAN,-3.5])})</div>
        </div>

        <div data-if="COUNT % 4 &gt;= 2">
            <p>Grafica el primer cuartil (a la mitad entre el número más pequeño y el número de en medio):</p>
            <p><code>
                \qquad \large{<var>SORTED_DATA.slice( 0, floor(COUNT / 4) ).join( ", " )</var>,
                \color{<var>PINK</var>}{<var>Q1</var>},
                <var>SORTED_DATA.slice( floor(COUNT / 4) + 1 ).join( ", " )</var>}
            </code></p>
            <div class="graphie" data-update="boxplot">style({stroke:PINK,strokeWidth:2},function(){line([Q1,-5.5],[Q1,-3.5])})</div>
        </div>

        <div data-else>
            <p>Grafica el primer cuartil (a la mitad entre el número más pequeño y el número de en medio):</p>
            <p><code>
                \qquad \large{<var>SORTED_DATA.slice( 0, floor(COUNT / 4) - 1 ).join( ", " )</var>,
                \color{<var>PINK</var>}{<var>SORTED_DATA[floor(COUNT / 4) - 1]</var>},
                \color{<var>PINK</var>}{<var>SORTED_DATA[floor(COUNT / 4)]</var>},
                <var>SORTED_DATA.slice( floor(COUNT / 4) + 1 ).join( ", " )</var>}
            </code></p>
            <p>El primer cuartil es <code>\dfrac{<var>SORTED_DATA[floor(COUNT / 4) - 1]</var> + <var>SORTED_DATA[floor(COUNT / 4)]</var>}{2} = <var>Q1</var></code>.</p>
            <div class="graphie" data-update="boxplot">style({stroke:PINK,strokeWidth:2},function(){line([Q1,-5.5],[Q1,-3.5])})</div>
        </div>

        <div data-if="COUNT % 4 &gt;= 2">
            <p>Grafica el tercer cuartil (a la mitad entre el número de en medio y el número más grande):</p>
            <p><code>
                \qquad \large{<var>SORTED_DATA.slice( 0, COUNT - 1 - floor(COUNT / 4)).join( ", " )</var>,
                \color{<var>PINK</var>}{<var>SORTED_DATA[COUNT - 1 - floor(COUNT / 4)]</var>},
                <var>SORTED_DATA.slice( COUNT - floor(COUNT / 4) ).join( ", " )</var>}
            </code></p>
            <div class="graphie" data-update="boxplot">style({stroke:PINK,strokeWidth:2},function(){line([Q3,-5.5],[Q3,-3.5])})</div>
        </div>

        <div data-else>
            <p>Grafica el tercer cuartil (a la mitad entre el número de en medio y el número más grande):</p>
            <p><code>
                \qquad \large{<var>SORTED_DATA.slice( 0, COUNT - floor(COUNT / 4) - 1).join( ", " )</var>,
                \color{<var>PINK</var>}{<var>SORTED_DATA[COUNT - floor(COUNT / 4) - 1]</var>},
                \color{<var>PINK</var>}{<var>SORTED_DATA[COUNT - floor(COUNT / 4)]</var>},
                <var>SORTED_DATA.slice( COUNT - floor(COUNT / 4) + 1 ).join( ", " )</var>}
            </code></p>
            <p>El tercer cuartil es <code>\dfrac{<var>SORTED_DATA[COUNT - floor(COUNT / 4) - 1]</var> + <var>SORTED_DATA[COUNT - floor(COUNT / 4)]</var>}{2} = <var>Q3</var></code>.</p>
            <div class="graphie" data-update="boxplot">style({stroke:PINK,strokeWidth:2},function(){line([Q3,-5.5],[Q3,-3.5])})</div>
        </div>

        <div>
            <p>Tu diagrama de cajas debería verse como el ejemplo que está abajo de la recta numérica.</p>
            <div class="graphie" data-update="boxplot">style({stroke:PINK,strokeWidth:2},function(){line([MIN,-4.5],[Q1,-4.5]),line([Q1,-5.5],[Q3,-5.5]),line([Q1,-3.5],[Q3,-3.5]),line([Q3,-4.5],[MAX,-4.5])})</div>
        </div>

    </div>

</div>
</body>
</html>
