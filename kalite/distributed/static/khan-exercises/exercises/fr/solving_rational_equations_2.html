<!DOCTYPE html>
<html data-require="math math-format expressions rational-expressions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Résoudre des équations rationnelles 2</title>
<script src="../khan-exercise.js"></script>
</head>
<body>
    <div class="exercise">
        <div class="vars" data-ensure="CONSTANT / COEFFICIENT !== - DENOM_CONST / DENOM_COEFF">
            <var id="X">randVar()</var>
            <var id="TERMS">shuffle([new RationalExpression([[randRangeWeighted(1,5,1,.4),X],randRange(-10,10)]),new Term(randRange(1,10)),new Term(randRange(1,10))])</var>
            <var id="NUMERATORS">_.map(TERMS, function(t) { return t.multiply(randFromArray([-1, 1])); })</var>

            <var id="DENOM_COEFF">randRangeWeighted(1, 5, 1, 0.4)</var>
            <var id="DENOM_CONST">randRangeWeighted(-5, 5, 0, 0.4)</var>
            <var id="DENOMINATOR">function(){var e={};return e[X]=0===DENOM_CONST?randRangeWeighted(1,3,1,.5):1,new RationalExpression([[DENOM_COEFF,e],DENOM_CONST])}()</var>
            <var id="FACTORS">[randRangeWeighted(1, 5, 1, 0.5), randRangeWeighted(1, 5, 1, 0.5), randRangeWeighted(1, 5, 1, 0.5)]</var>
            <var id="DENOMINATORS">_.map(FACTORS, function(f) { return DENOMINATOR.multiply(f); })</var>
            <var id="COMMON_FACTOR">function(){var e=FACTORS[0]*FACTORS[1]/getGCD(FACTORS[0],FACTORS[1]);return e*FACTORS[2]/getGCD(FACTORS[2],e)}()</var>
            <var id="COMMON_DENOM">DENOMINATOR.multiply(COMMON_FACTOR)</var>
            <var id="MULTIPLES">_.map(FACTORS, function(f) { return COMMON_FACTOR / f; })</var>
            <var id="PRODUCTS">_.map(NUMERATORS, function(n, i) { return n.multiply(MULTIPLES[i]); })</var>
            <var id="SUMS">function(){var e=PRODUCTS[1].add(PRODUCTS[2]);return[e,PRODUCTS[0].add(e.multiply(-1))]}()</var>
            <var id="COEFFICIENT">SUMS[1].getCoefficentOfTerm(X)</var>
            <var id="CONSTANT">-SUMS[1].getCoefficentOfTerm()</var>
        </div>

        <div class="problems">
            <div>
                <p class="problem">Déterminer <code><var>X</var></code></p>
                <p class="question"><code>
                    <var>writeExpressionFraction(NUMERATORS[0], DENOMINATORS[0])</var> =
                    <var>writeExpressionFraction(NUMERATORS[1], DENOMINATORS[1])</var> + 
                    <var>writeExpressionFraction(NUMERATORS[2], DENOMINATORS[2])</var>
                </code></p>

                <div class="solution" data-type="multiple">
                    <code><var>X</var> = \space</code><span class="sol" data-form="rational"><var>CONSTANT / COEFFICIENT</var></span>
                </div>
            </div>
        </div>

        <div class="hints">
            <div data-if="FACTORS[0] !== 1 || FACTORS[1] !== 1 || FACTORS[2] !== 1" data-unwrap="">
                <p>D'abord, il faut trouver le dénominateur commun. Cela signifie qu'il faut trouver le plus petit multiple commun de <code><var>DENOMINATORS[0]</var></code>, <code><var>DENOMINATORS[1]</var></code> et <code><var>DENOMINATORS[2]</var></code>.</p>

                <p>Le dénominateur commun est <code><var>COMMON_DENOM</var></code>.</p>

                <div data-each="[0, 1, 2] as i">
                    <div data-if="MULTIPLES[i] === 1">
                        <p>Le dénominateur de <var>ordinalThrough20(i+1)</var> est déjà un <code><var>COMMON_DENOM</var></code>. Il n'est donc pas nécessaire de le changer.</p>
                    </div>
                    <div data-else="">
                        <p>Pour avoir <code><var>COMMON_DENOM</var></code> au dénominateur du <var>ordinalThrough20(i+1)</var> terme, on le multiplie par <code>\frac{<var>MULTIPLES[i]</var>}{<var>MULTIPLES[i]</var>}</code>.</p>

                        <div><code> \qquad
                            <var>writeExpressionFraction(NUMERATORS[i], DENOMINATORS[i])</var> \times
                            \dfrac{<var>MULTIPLES[i]</var>}{<var>MULTIPLES[i]</var>} =
                            <var>writeExpressionFraction(PRODUCTS[i], COMMON_DENOM)</var>
                        </code></div>
                    </div>
                </div>

                <div>
                    <p>On obtient :</p>
                    <div><code>\qquad
                        <var>writeExpressionFraction(PRODUCTS[0], COMMON_DENOM)</var> =
                        <var>writeExpressionFraction(PRODUCTS[1], COMMON_DENOM)</var> +
                        <var>writeExpressionFraction(PRODUCTS[2], COMMON_DENOM)</var>
                    </code></div>
                </div>
            </div>

            <div>
                <p>Si on multiplie les deux membres de l'équation par <code><var>COMMON_DENOM</var></code>, on obtient :</p>
                <div><code>\qquad <var>PRODUCTS[0]</var> = <var>PRODUCTS[1]</var> + <var>PRODUCTS[2]</var></code></div>
            </div>

            <div><code>\qquad <var>PRODUCTS[0]</var> = <var>SUMS[0]</var></code></div>

            <div><code>\qquad
                <span data-if="PRODUCTS[0] instanceof KhanUtil.RationalExpression"><var>new KhanUtil.Term(COEFFICIENT, X)</var> = <var>CONSTANT</var></span>
                <span data-else=""><var>-CONSTANT</var> = <var>new KhanUtil.Term(-COEFFICIENT, X)</var></span>
            </code></div>

            <div data-if="COEFFICIENT !== 1 || PRODUCTS[0] instanceof KhanUtil.Term"><code>\qquad <var>X</var> = <var>fraction(CONSTANT, COEFFICIENT, true, true)</var></code></div>

        </div>
    </div>
</body>
</html>
