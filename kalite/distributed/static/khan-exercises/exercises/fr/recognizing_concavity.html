<!DOCTYPE html>
<html data-require="math math-format polynomials graphie interactive word-problems">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Reconnaître la concavité d'une courbe</title>
<script src="../khan-exercise.js"></script><style type="text/css">
        .graph-caption {
            display: block;
            margin-top: 10px;
            margin-bottom: 30px;
        }
    </style>
</head>
<body>
<div class="exercise">
    <div class="vars" data-ensure="SOLUTION_INTERVAL != null &amp;&amp; SOLUTION_INTERVAL[1] - SOLUTION_INTERVAL[0] &gt; 1.2">
        <!-- Some hard-coded polynomial functions -->
        <var id="COEF, XRANGE, YRANGE">randFromArray([[[1,0,-16,0,49],[-5,5],[-100,100]],[[-1,0,16,0,-49],[-5,5],[-250,100]],[[1,3,-14,-35,21],[-5,5],[-100,200]],[[-1,-3,14,35,0],[-5,5],[-200,100]],[[1,4,-1,-4],[-5,5],[-40,120]],[[-1,-4,1,4],[-5,5],[-150,40]],[[1,0,-16,0],[-5,5],[-50,50]],[[-1,0,16,0],[-5,5],[-70,60]],[[1,0,-22,27],[-5,5],[-30,70]],[[-1,0,22,-27],[-5,5],[-70,30]],[[1,1,-13,-14],[-5,5],[-40,40]],[[-1,-1,13,14],[-5,5],[-40,40]],[[1,0,-12],[-5,5],[-20,20]],[[-1,0,12],[-5,5],[-20,20]],[[1,-1,-6],[-5,5],[-20,20]],[[-1,1,6],[-5,5],[-30,20]],[[1,0,-3],[-5,5],[-20,30]],[[-1,0,3],[-5,5],[-30,20]],[[1,2,0],[-5,5],[-10,35]],[[-1,-2,0],[-5,5],[-40,20]]])</var>
        <var id="POLYNOMIAL">new Polynomial(0, COEF.length - 1, COEF.reverse())</var>

        <var id="FNX">function(x) {return POLYNOMIAL.evalOf(x);}</var>
        <var id="DDX">function(x) {return POLYNOMIAL.derivative().evalOf(x);}</var>
        <var id="D2DX">function(x) {return POLYNOMIAL.derivative().derivative().evalOf(x);}</var>

        <!-- Break XRANGE into intervals based on the roots of DDX -->
        <var id="DDX_INTERVALS">_.reduce(findRootsNumerically(DDX,XRANGE),function(e,r){var a=_.last(e);return _.initial(e).concat([[a[0],r],[r,a[1]]])},[XRANGE])</var>
        <!-- Break XRANGE into intervals based on the roots of D2DX -->
        <var id="D2DX_INTERVALS">_.reduce(findRootsNumerically(D2DX,XRANGE),function(e,r){var a=_.last(e);return _.initial(e).concat([[a[0],r],[r,a[1]]])},[XRANGE])</var>
        <!-- Find just the increasing intervals -->
        <var id="DDX_INTERVALS_POS">_.filter(DDX_INTERVALS,function(e){return DDX(e[0]+(e[1]-e[0])/2)&gt;0})</var>
        <!-- Find just the decreasing intervals -->
        <var id="DDX_INTERVALS_NEG">_.filter(DDX_INTERVALS,function(e){return DDX(e[0]+(e[1]-e[0])/2)&lt;0})</var>
        <!-- Find just the concave up intervals -->
        <var id="D2DX_INTERVALS_POS">_.filter(D2DX_INTERVALS,function(e){return D2DX(e[0]+(e[1]-e[0])/2)&gt;0})</var>
        <!-- Find just the concave down intervals -->
        <var id="D2DX_INTERVALS_NEG">_.filter(D2DX_INTERVALS,function(e){return D2DX(e[0]+(e[1]-e[0])/2)&lt;0})</var>
        <!-- Break XRANGE into intervals based on the roots of DDX and D2DX -->
        <!-- I.e. each interval has the same increasing-ness and concativity -->
        <var id="COMBINED_INTERVALS">_.reduce(sortNumbers(findRootsNumerically(DDX,XRANGE).concat(findRootsNumerically(D2DX,XRANGE))),function(e,r){var n=_.last(e);return _.initial(e).concat([[n[0],r],[r,n[1]]])},[XRANGE])</var>
        <!-- Find intervals that are solutions -->
        <var id="SOLUTION_INTERVALS">_.filter(COMBINED_INTERVALS,function(e){return PREDICATE(e[0]+(e[1]-e[0])/2)})</var>
        <!-- Sort to find the widest solution interval -->
        <var id="SOLUTION_INTERVAL">_.sortBy(SOLUTION_INTERVALS,function(e){return e[0]-e[1]})[0]</var>
    </div>

    <div class="solution" data-type="custom">
        <div class="instruction">Déplacer la section bleue.</div>
        <div class="guess">graph.slidingWindow.getX()</div>
        <div class="validator-function">var e=_.reduce(_.range(guess,guess+1,.02),function(e,r){return e&amp;&amp;PREDICATE(r)},!0);return graph.moved||e?e:""</div>
        <div class="show-guess">graph.slidingWindow.moveTo(guess,0)</div>
    </div>

    <p class="question">
    </p>

    <div class="problem">
        <div class="graphie" id="fnplot">initAutoscaledGraph([XRANGE,YRANGE]),addMouseLayer(),plot(FNX,XRANGE,{stroke:BLUE,strokeWidth:3}),graph.moved=!1;var startX=DDX_INTERVALS[0][1]-.5;graph.slidingWindow=addRectGraph({x:startX,y:YRANGE[0],width:1,height:YRANGE[1]-YRANGE[0],normalStyle:{area:{"fill-opacity":.2},edges:{"stroke-width":0}},hoverStyle:{area:{"fill-opacity":.3}},fixed:{points:[!0,!0,!0,!0],edges:[!0,!0,!0,!0]},constraints:{constrainX:!1,constrainY:!0,xmin:XRANGE[0],xmax:XRANGE[1]},onMove:function(){graph.moved=!0}})</div>
        <p class="graph-caption">
            <code class="hint_blue">f(x) = <var>POLYNOMIAL.text()</var></code>
        </p>
    </div>

    <div class="problems">
        <div id="inc-and-concave-up">
            <div class="vars" data-apply="prependVars">
                <var id="PREDICATE">function(x) { return DDX(x) &gt; 0 &amp;&amp; D2DX(x) &gt; 0; }</var>
            </div>
            <p class="question" data-apply="appendContents">
                A function <code>f(x)</code> is plotted below.
                Highlight an interval where <code>f^\prime(x) &gt; 0</code> and
                <code>f^{\prime\prime}(x) &gt; 0</code>.
            </p>
            <div class="hints">
                <p>La dérivée première, <code>f^\prime(x)</code>, est strictement supérieure à <code>0</code> si et seulement si la fonction est croissante.</p>
                <div>
                    <p data-if="isSingular(DDX_INTERVALS_POS.length)">
                        The interval
                        where <code>f(x)</code> is increasing
                        is
                        <span class="hint_orange">highlighted</span> above.
                    </p>
                    <div class="graphie" data-update="fnplot">_.each(DDX_INTERVALS_POS,function(e){plot(FNX,e,{stroke:ORANGE,strokeWidth:16,opacity:.7})})</div>
                </div>
                <p>La dérivée seconde, <code>f^{\prime\prime}(x)</code>, est plus grande que <code>0</code> dès lors que la fonction est concave vers le haut .</p>
                <div>
                    <p data-if="$.ngetpos(D2DX_INTERVALS_POS.length, 'fr') === 0">L'intervalle où <code>f(x)</code> est concave vers le haut est <span class="hint_red">surligné</span> sur le graphe.</p>
<p data-else-if="$.ngetpos(D2DX_INTERVALS_POS.length, 'fr') === 1">Les intervalles où <code>f(x)</code> est concave vers le haut sont <span class="hint_red">surlignés</span> sur le graphe.</p>
                    <div class="graphie" data-update="fnplot">_.each(D2DX_INTERVALS_POS,function(e){plot(FNX,e,{stroke:RED,strokeWidth:6,opacity:.8})})</div>
                </div>
                <div>
                    <p>On choisit une partie de la courbe surlignée pour les deux conditions.</p>
                    <div class="graphie" data-update="fnplot">graph.slidingWindow.moveTo((SOLUTION_INTERVAL[1]-SOLUTION_INTERVAL[0])/2+SOLUTION_INTERVAL[0]-.5,0)</div>
                </div>
            </div>
        </div>

        <div id="inc-and-concave-down">
            <div class="vars" data-apply="prependVars">
                <var id="PREDICATE">function(x) { return DDX(x) &gt; 0 &amp;&amp; D2DX(x) &lt; 0; }</var>
            </div>
            <p class="question" data-apply="appendContents">
                A function <code>f(x)</code> is plotted below.
                Highlight an interval where <code>f^\prime(x) &gt; 0</code> and
                <code>f^{\prime\prime}(x) &lt; 0</code>.
            </p>
            <div class="hints">
                <p>La dérivée première, <code>f^\prime(x)</code>, est strictement supérieure à <code>0</code> si et seulement si la fonction est croissante.</p>
                <div>
                    <p data-if="isSingular(DDX_INTERVALS_POS.length)">
                        The interval
                        where <code>f(x)</code> is increasing
                        is
                        <span class="hint_orange">highlighted</span> above.
                    </p>
                    <div class="graphie" data-update="fnplot">_.each(DDX_INTERVALS_POS,function(e){plot(FNX,e,{stroke:ORANGE,strokeWidth:16,opacity:.7})})</div>
                </div>
                <p>La dérivée seconde, <code>f^{\prime\prime}(x)</code>, est plus petite que <code>0</code> dès lors que la fonction est concave vers le bas.</p>
                <div>
                    <p data-if="$.ngetpos(D2DX_INTERVALS_NEG.length, 'fr') === 0">L'intervalle où <code>f(x)</code> est concave vers le bas est <span class="hint_red">surligné</span> sur le graphe.</p>
<p data-else-if="$.ngetpos(D2DX_INTERVALS_NEG.length, 'fr') === 1">Les intervalles où <code>f(x)</code> est concave vers le bas sont <span class="hint_red">surlignés</span> sur le graphe.</p>
                    <div class="graphie" data-update="fnplot">_.each(D2DX_INTERVALS_NEG,function(e){plot(FNX,e,{stroke:RED,strokeWidth:6,opacity:.8})})</div>
                </div>
                <div>
                    <p>On choisit une partie de la courbe surlignée pour les deux conditions.</p>
                    <div class="graphie" data-update="fnplot">graph.slidingWindow.moveTo((SOLUTION_INTERVAL[1]-SOLUTION_INTERVAL[0])/2+SOLUTION_INTERVAL[0]-.5,0)</div>
                </div>
            </div>
        </div>

        <div id="dec-and-concave-up">
            <div class="vars" data-apply="prependVars">
                <var id="PREDICATE">function(x) { return DDX(x) &lt; 0 &amp;&amp; D2DX(x) &gt; 0; }</var>
            </div>
            <p class="question" data-apply="appendContents">
                A function <code>f(x)</code> is plotted below.
                Highlight an interval where <code>f^\prime(x) &lt; 0</code> and
                <code>f^{\prime\prime}(x) &gt; 0</code>.
            </p>
            <div class="hints">
                <p>La dérivée première, <code>f^\prime(x)</code>, est strictement inférieure à <code>0</code> si et seulement si la fonction est décroissante.</p>
                <div>
                    <p data-if="isSingular(DDX_INTERVALS_NEG.length)">
                        The interval
                        where <code>f(x)</code> is decreasing
                        is
                        <span class="hint_orange">highlighted</span> above.
                    </p>
                    <div class="graphie" data-update="fnplot">_.each(DDX_INTERVALS_NEG,function(e){plot(FNX,e,{stroke:ORANGE,strokeWidth:16,opacity:.7})})</div>
                </div>
                <p>La dérivée seconde, <code>f^{\prime\prime}(x)</code>, est plus grande que <code>0</code> dès lors que la fonction est concave vers le haut .</p>
                <div>
                    <p data-if="$.ngetpos(D2DX_INTERVALS_POS.length, 'fr') === 0">L'intervalle où <code>f(x)</code> est concave vers le haut est <span class="hint_red">surligné</span> sur le graphe.</p>
<p data-else-if="$.ngetpos(D2DX_INTERVALS_POS.length, 'fr') === 1">Les intervalles où <code>f(x)</code> est concave vers le haut sont <span class="hint_red">surlignés</span> sur le graphe.</p>
                    <div class="graphie" data-update="fnplot">_.each(D2DX_INTERVALS_POS,function(e){plot(FNX,e,{stroke:RED,strokeWidth:6,opacity:.8})})</div>
                </div>
                <div>
                    <p>On choisit une partie de la courbe surlignée pour les deux conditions.</p>
                    <div class="graphie" data-update="fnplot">graph.slidingWindow.moveTo((SOLUTION_INTERVAL[1]-SOLUTION_INTERVAL[0])/2+SOLUTION_INTERVAL[0]-.5,0)</div>
                </div>
            </div>
        </div>

        <div id="dec-and-concave-down">
            <div class="vars" data-apply="prependVars">
                <var id="PREDICATE">function(x) { return DDX(x) &lt; 0 &amp;&amp; D2DX(x) &lt; 0; }</var>
            </div>
            <p class="question" data-apply="appendContents">
                A function <code>f(x)</code> is plotted below.
                Highlight an interval where <code>f^\prime(x) &lt; 0</code> and
                <code>f^{\prime\prime}(x) &lt; 0</code>.
            </p>
            <div class="hints">
                <p>La dérivée première, <code>f^\prime(x)</code>, est strictement inférieure à <code>0</code> si et seulement si la fonction est décroissante.</p>
                <div>
                    <p data-if="isSingular(DDX_INTERVALS_NEG.length)">
                        The interval
                        where <code>f(x)</code> is decreasing
                        is
                        <span class="hint_orange">highlighted</span> above.
                    </p>
                    <div class="graphie" data-update="fnplot">_.each(DDX_INTERVALS_NEG,function(e){plot(FNX,e,{stroke:ORANGE,strokeWidth:16,opacity:.7})})</div>
                </div>
                <p>La dérivée seconde, <code>f^{\prime\prime}(x)</code>, est plus petite que <code>0</code> dès lors que la fonction est concave vers le bas.</p>
                <div>
                    <p data-if="$.ngetpos(D2DX_INTERVALS_NEG.length, 'fr') === 0">L'intervalle où <code>f(x)</code> est concave vers le bas est <span class="hint_red">surligné</span> sur le graphe.</p>
<p data-else-if="$.ngetpos(D2DX_INTERVALS_NEG.length, 'fr') === 1">Les intervalles où <code>f(x)</code> est concave vers le bas sont <span class="hint_red">surlignés</span> sur le graphe.</p>
                    <div class="graphie" data-update="fnplot">_.each(D2DX_INTERVALS_NEG,function(e){plot(FNX,e,{stroke:RED,strokeWidth:6,opacity:.8})})</div>
                </div>
                <div>
                    <p>On choisit une partie de la courbe surlignée pour les deux conditions.</p>
                    <div class="graphie" data-update="fnplot">graph.slidingWindow.moveTo((SOLUTION_INTERVAL[1]-SOLUTION_INTERVAL[0])/2+SOLUTION_INTERVAL[0]-.5,0)</div>
                </div>
            </div>
        </div>

    </div>

</div>
</body>
</html>
