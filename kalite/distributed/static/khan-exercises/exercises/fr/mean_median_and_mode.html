<!DOCTYPE html>
<html data-require="math math-format stat graphie graphie-helpers">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Moyenne, médiane et mode</title>
<script src="../khan-exercise.js"></script><style type="text/css">
        .number-list {
            text-align: center
        }
    </style>
</head>
<body>
    <div class="exercise">
        <script type="text/javascript">
        function GenerateIntegers() {
            var len, integers;
            do {
                // generate random list of numbers
                len = KhanUtil.randRange( 5, 10 );

                integers = [];

                for (var i = 0; i < len; i++) {
                    integers[i] = KhanUtil.randRange( 1, 10 );
                }
            } while ( !KhanUtil.mode(integers) );

            return integers;
        }

        function DisplayMedian( sortedInts ) {
            var si = sortedInts.slice(0),
            center = Math.floor( si.length / 2 ),

            prepend = "\\boldsymbol{",
            append = "}";

            if ( si.length % 2 == 0 ) {
                si[center] = prepend + si[center] + append;
                si[center - 1] = prepend + si[center - 1] + append;
            } else {
                si[center] = prepend + si[center] + append;
            }

            return si.join( ", " );
        }
        </script><div class="vars">
            <var id="INTEGERS">GenerateIntegers()</var>
            <var id="INTEGERS_COUNT">INTEGERS.length</var>
            <var id="INTEGER_LIST">INTEGERS.join( ", " )</var>

            <var id="SORTED_INTS">sortNumbers( INTEGERS )</var>
            <var id="SORTED_LIST">SORTED_INTS.join( ", " )</var>
            <var id="MEDIAN_LIST">DisplayMedian( SORTED_INTS )</var>

            <var id="MEAN">mean( INTEGERS )</var>
            <var id="MEDIAN">median( INTEGERS )</var>
            <var id="MODE">mode( INTEGERS )</var>
        </div>

        <div class="problems">
            <div id="mean">
                <div class="question">
                    <p>Quelle est la moyenne arithmétique des nombres suivants?</p>
                    <div class="number-list"><code><var>INTEGER_LIST</var></code></div>
                </div>

                <p class="solution" data-inexact="" data-max-error="0.01"><var>MEAN</var></p>

                <div class="hints">
                    <p>Pour trouver la moyenne, ajoutez tous les nombres et puis divisez par le nombre de nombres.</p>
                    <div>
                        <div class="number-list"><code><var>INTEGER_LIST</var></code></div>
                        <p>Il y a <code><var>INTEGERS_COUNT</var></code> nombres.</p>
                    </div>
                    <p>La moyenne est <code>\displaystyle <var>fractionSimplification( sum(INTEGERS), INTEGERS_COUNT )</var></code>.</p>
                </div>
            </div>

            <div id="median">
                <div class="question">
                    <p>Quelle est la médiane des nombres suivants?</p>
                    <div class="number-list"><code><var>INTEGER_LIST</var></code></div>
                </div>

                <p class="solution"><var>MEDIAN</var></p>

                <div class="hints">
                    <div>
                        <p>Premièrement, arrangez les nombres en ordre, ce qui donne:</p>
                        <div class="number-list"><code><var>SORTED_LIST</var></code></div>
                    </div>
                    <div>
                        <p data-if="INTEGERS.length % 2 === 0">Puisqu'on a <code>2</code> nombre du milieu, la médiane et la moyenne de <strong>ces</strong> deux nombres!</p>
                        <p data-else="">La médiane est le nombre du 'milieu':</p>
                        <div class="number-list"><code><var>MEDIAN_LIST</var></code></div>
                        <p data-if="SORTED_INTS.length % 2 === 0">La moyenne est <code>\dfrac{<var>SORTED_INTS[ SORTED_INTS.length / 2 - 1 ]</var> + <var>SORTED_INTS[ SORTED_INTS.length / 2 ]</var>}{2}</code>.</p>
                    </div>
                    <div>
                        <p>Donc la médiane est <code><var>fractionReduce(2 * MEDIAN, 2)</var></code>.</p>
                        <p>Un autre moyen pour trouver le nombre du milieu est de déssiner les nombres sur une droite graduée. Si un nombre apparaît plusieurs fois, comptez sont point corréspondant plusieurs fois.</p>
                        <div class="graphie">init({range:[[-.5,10.5],[-1,1]]}),style({stroke:"#666"},function(){numberLine(0,10,1)});var freq={},labels={};$.each(INTEGERS,function(e,r){var a=freq[r]=(freq[r]||0)+1;labels[r]&amp;&amp;labels[r].remove(),a&gt;=2?labels[r]=label([r,.2],"\\scriptsize{"+a+"}","above",{labelDistance:0}):circle([r,0],.125,{stroke:"none",fill:"#6495ed"})})</div>
                    </div>
                </div>
            </div>

            <div id="mode">
                <div class="question">
                    <p>Quel est le mode des nombres suivants?</p>
                    <div class="number-list"><code><var>INTEGER_LIST</var></code></div>
                </div>

                <p class="solution" data-forms="integer"><var>MODE</var></p>

                <div class="hints">
                    <p>Le mode est le nombre le plus fréquent.</p>
                    <div>
                        <p>On peut créer un histogramme pour voir combien de fois chaque nombre apparaît.</p>

                        <div class="graphie">var freq={},maxFreq=0;$.each(INTEGERS,function(e,r){var a=freq[r]=(freq[r]||0)+1;maxFreq=a&gt;maxFreq?a:maxFreq}),init({range:[[-.5,10.5],[-1,(maxFreq+1.5)/2]]}),style({stroke:"#666"},function(){numberLine(0,10,1)});for(var num in freq)for(var i=0,l=freq[num];l&gt;i;i++)circle([num,(i+1.5)/2],.125,{stroke:"none",fill:"#6495ed"})</div>
                    </div>

                    <p>Il y a plus de <code><var>MODE</var></code>s que n'importe quel autre nombre, donc <code><var>MODE</var></code> est le mode.</p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
