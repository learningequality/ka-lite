<!DOCTYPE html>
<html data-require="math math-format word-problems graphie interactive">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Le théorème fondamental de l'arithmétique</title>
<script src="../khan-exercise.js"></script>
</head>
<body>
<div class="exercise">
    <div class="problems">
        <div>
            <div class="vars">
                <var id="PRIMES">[2, 3, 5, 7, 11, 13]</var>
                <var id="NUMBER">randFromArray([4,6,8,9,10,12,14,15,16,18,20,21,22,24,25,26,27,28,30,32,33,35,36,39,40,42,44,45,48,49,50,52,54,55,56,60,63,65,66,70,72,75,77,78,80,81,84,88,90,91,96,98,99])</var>
                <var id="FACTORIZATION">getPrimeFactorization(NUMBER)</var>
                <var id="EXPONENTS">_.reduce(FACTORIZATION,function(e,r){return e[r]=e[r]+1||1,e},{})</var>
                <var id="HAS_EXPONENTS">_.reduce(_.values(EXPONENTS),function(e,r){return e||1!==r},!1)</var>
                <var id="EXPONENT_HINT">_.map(EXPONENTS,function(e,r){return cardinalThrough20(e)+" &lt;code&gt;"+r+"&lt;/code&gt;"+(1===e?"":"s")})</var>
                <var id="SOLUTION">_.reduce(PRIMES,function(e,r){return EXPONENTS[r]&gt;1?e.push(r+"^"+EXPONENTS[r]):1===EXPONENTS[r]&amp;&amp;e.push(r),e},[]).join("\\cdot")</var>
                <var id="REMAINING">_.map(FACTORIZATION,function(e,r){var a=NUMBER;return _.each(FACTORIZATION.slice(0,r),function(e){a/=e}),a})</var>
                <var id="GRAPHIE">null</var>
            </div>

            <p class="question">Trouver la décomposition en facteurs premiers de <code><var>NUMBER</var></code>.</p>

            <div class="problem">
                <p>Utilise les flèches pour changer l'exposant sur chaque nombre premier ci-dessous pour voir si tu peux trouver la factorisation en nombre premier.</p>
                <div class="graphie">GRAPHIE=graph,init({range:[[0,10],[-11,0]]}),addMouseLayer(),graph.primes=[],graph.computeTotal=function(){return _.reduce(PRIMES,function(e,r){return e*pow(r,graph.primes[r].exponent)},1)},graph.totalLabel=label([7,-10],1,"right",{fontSize:25}),graph.updateTotal=function(){this.totalLabel.remove(),this.totalLabel=label([7,-10],graph.computeTotal(),"right",{fontSize:25});var e=_.reduce(PRIMES,function(e,r){return graph.primes[r].exponent&gt;1?e.push(r+"^"+graph.primes[r].exponent):1===graph.primes[r].exponent&amp;&amp;e.push(r),e},[]).join("\\cdot");e+=" = "+graph.computeTotal(),KhanUtil.processMath($("#answer-preview code")[0],e,!0)},_.each(PRIMES,function(e,r){var a=1.5*-r-1;graph.primes[e]={exponent:0,baseLabel:label([2,a],e,"left",{fontSize:25,color:"#aaa"}),expLabel:label([2,a+.3],0,"center",{fontSize:20,color:"#aaa"}),expandLabel:label([3,a],1,"right",{fontSize:20,color:"#aaa"}),factorLabel:label([7,a],1,"right",{fontSize:25,color:"#aaa"}),upArrow:addArrowWidget({coord:[2,a+.7],direction:"up"}),downArrow:addArrowWidget({coord:[2,a-.1],direction:"down"}),update:function(){this.expLabel.remove(),this.expandLabel.remove(),this.factorLabel.remove(),this.expLabel=label([2,a+.3],this.exponent,"center",{fontSize:20}),this.factorLabel=label([7,a],pow(e,this.exponent),"right",{fontSize:25}),0===this.exponent?(this.baseLabel.css({color:"#aaa"}),this.expLabel.css({color:"#aaa"}),this.expandLabel=label([3,a],"1","right",{fontSize:20,color:"#aaa"}),this.factorLabel.css({color:"#aaa"})):(this.baseLabel.css({color:"black"}),this.expandLabel=label([3,a],getPrimeFactorization(pow(e,this.exponent)).join("\\cdot"),"right",{fontSize:20})),this.exponent&gt;=5||e&gt;=11&amp;&amp;this.exponent&gt;=3?this.upArrow.hide():this.upArrow.show(),this.exponent&lt;=0?this.downArrow.hide():this.downArrow.show()}},graph.primes[e].upArrow.onClick=function(){graph.primes[e].exponent+=1,graph.primes[e].update(),graph.updateTotal()},graph.primes[e].downArrow.onClick=function(){graph.primes[e].exponent-=1,graph.primes[e].update(),graph.updateTotal()},label([2.5,a],"=","right",{color:"#ccc"}),label([6.5,a],"=","right",{color:"#ccc"}),graph.primes[e].downArrow.hide()}),line([0,-9.25],[8,-9.25]),label([0,-9],"\\times","above right",{fontSize:25})</div>
            </div>

            <div class="solution" data-type="custom">
                <div class="instruction">
                    <p>Cliquez sur les flèches oranges pour modifier votre réponse.</p>
                    <p id="answer-preview"><code>=1</code></p>
                </div>
                <div class="guess">GRAPHIE.computeTotal()</div>
                <div class="validator-function">return 1===guess?"":guess===NUMBER</div>
                <div class="show-guess">_.each(PRIMES,function(e){GRAPHIE.primes[e].exponent=0}),_.each(getPrimeFactorization(guess),function(e){GRAPHIE.primes[e].exponent+=1}),_.each(PRIMES,function(e){GRAPHIE.primes[e].update()}),GRAPHIE.updateTotal()</div>
                <div class="show-guess-solutionarea">_.each(PRIMES,function(e){GRAPHIE.primes[e].exponent=0}),_.each(getPrimeFactorization(guess),function(e){GRAPHIE.primes[e].exponent+=1}),GRAPHIE.updateTotal()</div>
            </div>
        </div>
    </div>

    <div class="hints">
        <div>
            <div class="graphie" id="factor-tree" style="float: left;">graph.cx=0,graph.y=0,graph.curr=NUMBER,init({range:[[-1,FACTORIZATION.length+1],[-2*FACTORIZATION.length-.5,1]],scale:[30,30]}),label([graph.cx+1,graph.y],graph.curr)</div>
            <p style="height: 60px">On peut utiliser un arbre des facteurs pour décomposer <code><var>NUMBER</var></code> en facteurs premiers. Quels sont les nombres premiers qui divisent  <code><var>NUMBER</var></code> ?</p>
        </div>
        <div data-each="FACTORIZATION.slice(0, -1) as I, FACTOR">
            <div class="graphie" data-update="factor-tree">path([[graph.cx+1,graph.y-.5],[graph.cx,graph.y-1.5]]),path([[graph.cx+1,graph.y-.5],[graph.cx+2,graph.y-1.5]]),graph.y-=2,graph.cx+=1,graph.curr=graph.curr/FACTOR,label([graph.cx-1,graph.y],FACTOR,{color:BLUE}),circle([graph.cx-1,graph.y],.5),graph.lastLabel=label([graph.cx+1,graph.y],graph.curr)</div>
            <p style="height: 38px"><code><var>REMAINING[I]</var></code> est divisible par <code class="hint_blue"><var>FACTOR</var></code>, et il nous reste <code><var>REMAINING[I] / FACTOR</var></code>.</p>
        </div>
        <div>
            <div class="graphie" data-update="factor-tree">circle([graph.cx+1,graph.y],.5),graph.lastLabel.remove(),label([graph.cx+1,graph.y],graph.curr,{color:BLUE})</div>
            <p><code class="hint_blue"><var>FACTORIZATION[FACTORIZATION.length-1]</var></code> est premier, donc nous avons fini la factorisation.</p>
        </div>
        <div>
            <p>La décomposition en facteurs premiers de <code><var>NUMBER</var></code> est :</p>
            <p><code class="hint_blue">
                \qquad<var>FACTORIZATION.join("\\space\\color{black}{\\cdot}\\space")</var>
            </code></p>
            <div data-if="HAS_EXPONENTS">
                <p data-if="FACTORIZATION[0] === FACTORIZATION[1]">Comme il y a <var>toSentence(EXPONENT_HINT)</var>, on peut utiliser des exposants pour écrire la décomposition en facteurs premiers suivante:</p>
<p data-else="">Comme il y a <var>toSentence(EXPONENT_HINT)</var>, nous pouvons utiliser des exposants pour écrire la décomposition en facteurs premiers suivante:</p>
                <p><code>\qquad\blue{<var>SOLUTION</var>} = <var>NUMBER</var></code></p>
            </div>
        </div>
    </div>

</div>
</body>
</html>
