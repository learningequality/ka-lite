<!DOCTYPE html>
<html data-require="math math-format graphie word-problems interactive">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Fractions on the number line 3</title>
<script src="../khan-exercise.js"></script>
</head>
<body>
    <div class="exercise">
    <div class="vars">
        <var id="LOWER_BOUND">-3</var>
        <var id="UPPER_BOUND">3</var>

        <var id="DENOMINATOR" data-ensure="abs(DENOMINATOR) &gt; 1">randRangeNonZero(-6, 6)</var>
        <var id="NUMERATOR" data-ensure="abs(NUMERATOR / DENOMINATOR) &lt;= 3 &amp;&amp; !reduces(NUMERATOR, DENOMINATOR)">randRange(2, 18)</var>

        <var id="SOLUTION">NUMERATOR / DENOMINATOR</var>

        <var id="M_NUMERATOR">NUMERATOR % DENOMINATOR</var>
        <var id="M_WHOLE">(NUMERATOR - M_NUMERATOR) / DENOMINATOR</var>
        <var id="M_NUMBER">(abs(SOLUTION) &gt; 1 ? M_WHOLE + (SOLUTION &lt; 0 ? fraction(M_NUMERATOR, -DENOMINATOR) : fraction(M_NUMERATOR, DENOMINATOR)) : fraction(NUMERATOR, DENOMINATOR))</var>
        <var id="IS_MIXED">0</var>
        <var id="NUMBER">IS_MIXED === 1 &amp;&amp; abs(SOLUTION) &gt; 1  ? M_NUMBER : fraction(NUMERATOR, DENOMINATOR)</var>
        <var id="ORANGE_DOT">$._("point orange")</var>
    </div>

    <div class="problems">
        <div>
            <div class="question">
                <p>Déplacer le <strong><code>\color{orange}{\text{<var>ORANGE_DOT</var>}}</code></strong> à <strong><code>\color{orange}{<var>NUMBER</var>}</code></strong> sur la droite graduée.</p>

                <div class="graphie" id="number-line">init({range:[[(LOWER_BOUND-.5)*abs(DENOMINATOR),(UPPER_BOUND+.5)*abs(DENOMINATOR)],[-1,1]],scale:[70/abs(DENOMINATOR),40]}),style({arrows:"&gt;"}),line([0,0],[(UPPER_BOUND+.25)*abs(DENOMINATOR),0]),style({arrows:"-&gt;"}),line([0,0],[(LOWER_BOUND-.25)*abs(DENOMINATOR),0]),style({arrows:""});for(var x=LOWER_BOUND;UPPER_BOUND&gt;=x;x++)line([x*abs(DENOMINATOR),-.2],[x*abs(DENOMINATOR),.2]);style({stroke:GREEN,strokeWidth:3.5}),line([LOWER_BOUND*abs(DENOMINATOR),-.2],[LOWER_BOUND*abs(DENOMINATOR),.2]),label([LOWER_BOUND*abs(DENOMINATOR),-.53],LOWER_BOUND,"center",{color:GREEN}),line([UPPER_BOUND*abs(DENOMINATOR),-.2],[UPPER_BOUND*abs(DENOMINATOR),.2]),label([UPPER_BOUND*abs(DENOMINATOR),-.53],UPPER_BOUND,"center",{color:GREEN}),line([0,-.2],[0,.2]),label([0,-.53],"0","center",{color:GREEN}),addMouseLayer(),graph.movablePoint=addMovablePoint({constraints:{constrainY:!0},snapX:1}),graph.movablePoint.onMove=function(e,r){return[min(max(LOWER_BOUND*abs(DENOMINATOR),e),UPPER_BOUND*abs(DENOMINATOR)),r]}</div>
            </div>

            <div class="solution" data-type="custom">
                <span class="instruction">Placer le point orange à l'endroit voulu.</span>
                <div class="guess"> graph.movablePoint.coord[0] / abs(DENOMINATOR) </div>
                <div class="validator-function">return 0===guess?"":abs(SOLUTION-guess)&lt;.001</div>
                <div class="show-guess">graph.movablePoint.setCoord([guess,0])</div>
            </div>

            <div class="hints">
                <p>Comme <code>\color{orange}{<var>NUMBER</var>}</code> est <span data-if="SOLUTION &gt; 0">positif</span> <span data-else="">négatif</span> le point orange sera à <span data-if="SOLUTION &gt; 0">droite</span> <span data-else="">gauche</span> du point 0.</p>

                <div data-if="IS_MIXED &lt; 1 &amp;&amp; abs(SOLUTION) &gt; 1">
                    <p>Écrivons la fraction impropre <code>\color{orange}{<var>NUMBER</var>}</code> sous la forme d'un nombre mixte:</p>
                    <p><code>\color{orange}{<var>NUMBER</var>}</code> = <code>\color{blue}{<var>M_NUMBER</var>}</code></p>
                </div>

                <div>
                    <p>Ainsi, nous savons que <code>\color{blue}{<var>M_NUMBER</var>}</code> se situe entre <code>\color{green}{<var>M_WHOLE</var>}</code> et <code>\color{green}{<var>M_WHOLE + (SOLUTION &gt; 0 ? 1 : -1)</var>}</code> sur la droite graduée.</p>
                    <div class="graphie" data-update="number-line">style({stroke:"#FFA500",strokeWidth:3.5}),line([M_WHOLE*abs(DENOMINATOR),-.2],[M_WHOLE*abs(DENOMINATOR),.2]),line([(M_WHOLE+(SOLUTION&gt;0?1:-1))*abs(DENOMINATOR),-.2],[(M_WHOLE+(SOLUTION&gt;0?1:-1))*abs(DENOMINATOR),.2])</div>
                </div>

                <div>
                    <p><code>\color{blue}{<var>M_NUMBER</var>}</code> est <code>\color{green}{<var>fraction(M_NUMERATOR, DENOMINATOR)</var>}</code> de <span data-if="SOLUTION &gt; 0">right</span><span data-else="">left</span> de <code>\color{green}{<var>M_WHOLE</var>}</code> sur la droite graduée.</p>
                    <div class="graphie" data-update="number-line">style({stroke:GREEN,fill:"#6495ED",strokeWidth:3.5,arrows:"-&gt;"}),line([M_WHOLE*abs(DENOMINATOR),0],[SOLUTION*abs(DENOMINATOR),0]),graph.movablePoint.visibleShape.toFront(),style({stroke:"#FFA500",strokeWidth:3.5,arrows:""}),line([M_WHOLE*abs(DENOMINATOR),-.2],[M_WHOLE*abs(DENOMINATOR),.2]),line([(M_WHOLE+(SOLUTION&gt;0?1:-1))*abs(DENOMINATOR),-.2],[(M_WHOLE+(SOLUTION&gt;0?1:-1))*abs(DENOMINATOR),.2])</div>
                </div>

                <div>
                    <div class="graphie" data-update="number-line">label([SOLUTION*abs(DENOMINATOR),-.83],NUMBER,"center",{color:"#FFA500"}),graph.movablePoint.moveTo(SOLUTION*abs(DENOMINATOR),0)</div>
                    <p>Le nombre orange montre où se trouve <code>\color{orange}{<var>NUMBER</var>}</code> sur la droite graduée.</p>
                </div>
            </div>
        </div>
    </div>
    </div>
</body>
</html>
