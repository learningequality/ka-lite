<!DOCTYPE html>
<html data-require="math stat math-format word-problems spin">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Lire un diagramme tige-feuilles</title>
<script src="../khan-exercise.js"></script>
</head>
<body>
<div class="exercise">
    <div class="vars">
        <var id="STEMS">randRange( 5, 7 )</var>
        <var id="SAMPLES">randRange( 10, 20 )</var>
        <var id="TGT_MEAN">randRange( 20, STEMS * 10 - 20 )</var>
        <var id="TGT_STDDEV">randRange( 10, 15 )</var>
        <var id="RAW_DATA">sortNumbers($.map(_.range(SAMPLES),function(){for(var e;;)if(e=round(randGaussian()*TGT_STDDEV+TGT_MEAN),e&gt;=0&amp;&amp;10*STEMS&gt;e)return e}))</var>
        <var id="DATA">$.map(_.range(STEMS),function(e){return[$.map(RAW_DATA,function(r){return r&gt;=10*e&amp;&amp;10*(e+1)&gt;r?r-10*e:void 0})]})</var>
        <var id="LOCATION,LOCATION_DISPLAY">randFromArray([["grocery store",new Plural(function(e){return $.ngettext({lang:"fr",messages:["épicerie","épiceries"]},e)})],["department store",new Plural(function(e){return $.ngettext({lang:"fr",messages:["grand magasin","grands magasins"]},e)})],["zoo",new Plural(function(e){return $.ngettext("zoo","zoos",e)})]])</var>
        <var id="ITEM">{"grocery store":fruit(1),"department store":clothing(1),zoo:animal(1)}[LOCATION]</var>
    </div>

    <div class="problem">
        <p class="spin" data-if="LOCATION === 'grocery store'">
            {The buyer for|A statistician for|An executive of} a chain of supermarkets created the following stem-and-leaf plot
            showing the number of <var>plural_form(ITEM)</var> at each of the stores:
        </p>
        <p class="spin" data-if="LOCATION === 'department store'">{l'acheteur d'|Un statisticien pour |Le directeur régional d'} une chaine de grands magasins a créé le diagramme tige et feuille suivant montrant le nombre de <var>plural_form(ITEM)</var> dans chaque magasin :</p>
        <p class="spin" data-if="LOCATION === 'zoo'">{Le gouvernement|Un groupe de conservation|Un gardien de zoo} {a créé|a publié} le diagramme tige et feuille suivant montrant le nombre de <var>plural_form(ITEM)</var> pour chaque grand zoo du pays :</p>
        <p>
            <code>
                \left| \quad \begin{matrix}
                <span data-each="STEMS times as STEM" data-unwrap="">
                    <var>STEM</var>
                    \vphantom{\Large{0}} \\
                </span>
                \end{matrix} \quad \right|
                \quad
                \begin{matrix}
                <span data-each="STEMS times as STEM" data-unwrap="">
                    <span data-each="DATA[ STEM ] as LEAF" data-unwrap=""><var>LEAF</var>&amp;</span>
                    \vphantom{\Large{0}} \\
                </span>
                \end{matrix}
            </code>
        </p>
    </div>

    <div class="hints">
        <p>La colonne de gauche du diagramme tige et feuille représente la position des dizaines; chaque chiffre sur le côté droit représente la position des unités pour le nombre de <var>plural_form(ITEM)</var> à une <var>LOCATION_DISPLAY</var>.</p>
        <div>
            <p>On peut rassembler les chiffres de dizaines et des unités et écrire le nombre de <var>plural_form(ITEM)</var> à chaque <var>LOCATION_DISPLAY</var> vers la droite:</p>
            <p>
                <code>
                    \small{
                    \left| \space \begin{matrix}
                    <span data-each="STEMS times as STEM" data-unwrap="">
                        \color{<var>GREEN</var>}{<var>STEM</var>}
                        \vphantom{\Large{0}} \\
                    </span>
                    \end{matrix} \space \right|
                    \space
                    \begin{matrix}
                    <span data-each="STEMS times as STEM" data-unwrap="">
                        <span data-each="DATA[ STEM ] as LEAF" data-unwrap="">\color{<var>BLUE</var>}{<var>LEAF</var>}&amp;</span>
                        \vphantom{\Large{0}} \\
                    </span>
                    \end{matrix}
                    \space
                    \begin{matrix}
                    <span data-each="STEMS times as STEM" data-unwrap="">
                        \rightarrow
                        \vphantom{\Large{0}} \\
                    </span>
                    \end{matrix}
                    \space
                    \begin{matrix}
                    <span data-each="STEMS times as STEM" data-unwrap="">
                        <span data-each="DATA[ STEM ] as LEAF" data-unwrap="">\color{<var>GREEN</var>}{<var>STEM</var>}\color{<var>BLUE</var>}{<var>LEAF</var>}&amp;</span>
                        \vphantom{\Large{0}} \\
                    </span>
                    \end{matrix}
                    }
                </code>
            </p>
        </div>
        <div>
            <p>Nous savons maintenant que <var>plural_form(ITEM)</var> aux différents <var>plural_form(LOCATION_DISPLAY)</var>:</p>
            <p><code>\qquad</code><var>toSentenceTex( RAW_DATA )</var></p>
        </div>
        <div>
            <p>
            <span data-if="TYPE === 'smallest'">Quel était le plus petit nombre de <var>plural_form(ITEM)</var> à chaque <var>LOCATION_DISPLAY</var>?</span>
            <span data-else-if="TYPE === 'largest'">Quel était le plus grand nombre de <var>plural_form(ITEM)</var> à chaque <var>LOCATION_DISPLAY</var>?</span>
            <span data-else="">
                <span data-if="TYPE === 'how-many'">
                    <span data-if="$.ngetpos(AMOUNT, 'fr') === 0" data-unwrap="">Combien de <var>plural_form(LOCATION_DISPLAY)</var> ont exactement <var>AMOUNT</var> <var>ITEM</var> ?</span><span data-else-if="$.ngetpos(AMOUNT, 'fr') === 1" data-unwrap="">Combien de <var>plural_form(LOCATION_DISPLAY)</var> ont exactement <var>AMOUNT</var> <var>plural_form(ITEM, AMOUNT)</var> ?</span>
                    
                </span>
                <span data-if="TYPE === 'less-than'">
                    <span data-if="$.ngetpos(AMOUNT, 'fr') === 0" data-unwrap="">Combien de <var>plural_form(LOCATION_DISPLAY)</var> ont moins de <var>AMOUNT</var> <var>ITEM</var> ?</span><span data-else-if="$.ngetpos(AMOUNT, 'fr') === 1" data-unwrap="">Combien de <var>plural_form(LOCATION_DISPLAY)</var> ont moins de <var>AMOUNT</var> <var>plural_form(ITEM, AMOUNT)</var> ?</span>
                    
                </span>
                <span data-if="TYPE === 'greater-than'">
                    <span data-if="$.ngetpos(AMOUNT, 'fr') === 0" data-unwrap="">Combien de <var>plural_form(LOCATION_DISPLAY)</var> ont plus que <var>AMOUNT</var> <var>ITEM</var> ?</span><span data-else-if="$.ngetpos(AMOUNT, 'fr') === 1" data-unwrap="">Combien de <var>plural_form(LOCATION_DISPLAY)</var> ont plus que <var>AMOUNT</var> <var>plural_form(ITEM, AMOUNT)</var> ?</span>
                    
                </span>
            </span>
            </p>
            <p data-if="SOLUTION &gt; 0">
                <code>\qquad</code><var>toSentenceTex( RAW_DATA, IS_SOLUTION, "hint_pink" )</var>
            </p>
        </div>
        <div>
            <p>
                <code>
                    \qquad
                    \left| \quad \begin{matrix}
                    <span data-each="STEMS times as STEM" data-unwrap="">
                        <var>STEM</var>
                        \vphantom{\Large{0}} \\
                    </span>
                    \end{matrix} \quad \right|
                    \quad
                    \begin{matrix}
                    <span data-each="STEMS times as STEM" data-unwrap="">
                        <span data-each="DATA[ STEM ] as LEAF" data-unwrap="">
                            <span data-if="IS_SOLUTION( STEM * 10 + LEAF )" data-unwrap="">
                                \color{<var>PINK</var>}{<var>LEAF</var>}&amp;
                            </span>
                            <span data-else="" data-unwrap="">
                                <var>LEAF</var>&amp;
                            </span>
                        </span>
                        \vphantom{\Large{0}} \\
                    </span>
                    \end{matrix}
                </code>
            </p>
            <p><strong>
                <span data-if="TYPE === 'smallest'">
                    <span data-if="$.ngetpos(SOLUTION, 'fr') === 0">Le <var>LOCATION_DISPLAY</var> avec le moins de <var>plural_form(ITEM)</var> avait <var>SOLUTION</var> de <var>ITEM</var>.</span><span data-else-if="$.ngetpos(SOLUTION, 'fr') === 1">Le <var>LOCATION_DISPLAY</var> avec le moins de <var>plural_form(ITEM)</var> avait <var>SOLUTION</var> de <var>plural_form(ITEM, SOLUTION)</var>.</span>
                    
                </span>
                <span data-else-if="TYPE === 'largest'">
                    <span data-if="$.ngetpos(SOLUTION, 'fr') === 0">Le <var>LOCATION_DISPLAY</var> avec le plus de <var>plural_form(ITEM)</var> avait <var>SOLUTION</var> de <var>ITEM</var>.</span><span data-else-if="$.ngetpos(SOLUTION, 'fr') === 1">Le <var>LOCATION_DISPLAY</var> avec le plus de <var>plural_form(ITEM)</var> avait <var>SOLUTION</var> de <var>plural_form(ITEM, SOLUTION)</var>.</span>
                    
                </span>
                <span data-else="">
                    <span data-if="$.ngetpos(SOLUTION, 'fr') === 0">Il y a <var>SOLUTION</var> de <var>LOCATION_DISPLAY</var> qui correspondent à notre question.</span><span data-else-if="$.ngetpos(SOLUTION, 'fr') === 1">Il y a <var>SOLUTION</var> de <var>plural_form(LOCATION_DISPLAY, SOLUTION)</var> qui correspondent à notre question.</span>
                    
                </span>
            </strong></p>
        </div>
    </div>

    <div class="problems">
        <div id="how-many">
            <div class="vars">
                <var id="TYPE">"how-many"</var>
                <var id="AMOUNT" data-ensure="0 &lt;= AMOUNT &amp;&amp; AMOUNT &lt; STEMS * 10">random()&lt;.7?randFromArray(RAW_DATA):round(randGaussian()*TGT_STDDEV+TGT_MEAN)</var>
                <var id="IS_SOLUTION">function( x ) { return x === AMOUNT; }</var>
                <var id="SOLUTION">_.reduce( RAW_DATA, function( memo, num ) { return num === AMOUNT ? ++memo : memo; }, 0 )</var>
            </div>

            <p class="question">
                <span data-if="$.ngetpos(AMOUNT, 'fr') === 0" data-unwrap="">Combien de <var>plural_form(LOCATION_DISPLAY)</var> ont exactement <var>AMOUNT</var> <var>ITEM</var> ?</span><span data-else-if="$.ngetpos(AMOUNT, 'fr') === 1" data-unwrap="">Combien de <var>plural_form(LOCATION_DISPLAY)</var> ont exactement <var>AMOUNT</var> <var>plural_form(ITEM, AMOUNT)</var> ?</span>
            </p>

            <div class="solution" data-type="multiple">
                <p><span class="sol" data-forms="integer" style="padding-right: 5px"><var>SOLUTION</var></span> <var>plural_form(LOCATION_DISPLAY)</var></p>
            </div>
        </div>

        <div id="less-than">
            <div class="vars">
                <var id="TYPE">"less-than"</var>
                <var id="AMOUNT">randRange( 10, (STEMS - 1) * 10 )</var>
                <var id="IS_SOLUTION">function( x ) { return x &lt; AMOUNT; }</var>
                <var id="SOLUTION">_.reduce( RAW_DATA, function( memo, num ) { return num &lt; AMOUNT ? ++memo : memo; }, 0 )</var>
            </div>

            <p class="question">
                <span data-if="$.ngetpos(AMOUNT, 'fr') === 0">Combien de <var>plural_form(LOCATION_DISPLAY)</var> ont moins de <var>AMOUNT</var> <var>ITEM</var> ?</span><span data-else-if="$.ngetpos(AMOUNT, 'fr') === 1">Combien de <var>plural_form(LOCATION_DISPLAY)</var> ont moins de <var>AMOUNT</var> <var>plural_form(ITEM, AMOUNT)</var> ?</span>
            </p>

            <div class="solution" data-type="multiple">
                <p><span class="sol" data-forms="integer" style="padding-right: 5px"><var>SOLUTION</var></span> <var>plural_form(LOCATION_DISPLAY)</var></p>
            </div>
        </div>

        <div id="greater-than">
            <div class="vars">
                <var id="TYPE">"greater-than"</var>
                <var id="AMOUNT">randRange( 10, (STEMS - 1) * 10 )</var>
                <var id="IS_SOLUTION">function( x ) { return x &gt; AMOUNT; }</var>
                <var id="SOLUTION">_.reduce( RAW_DATA, function( memo, num ) { return num &gt; AMOUNT ? ++memo : memo; }, 0 )</var>
            </div>

            <p class="question">
                <span data-if="$.ngetpos(AMOUNT, 'fr') === 0" data-unwrap="">Combien de <var>plural_form(LOCATION_DISPLAY)</var> ont plus que <var>AMOUNT</var> <var>ITEM</var> ?</span><span data-else-if="$.ngetpos(AMOUNT, 'fr') === 1" data-unwrap="">Combien de <var>plural_form(LOCATION_DISPLAY)</var> ont plus que <var>AMOUNT</var> <var>plural_form(ITEM, AMOUNT)</var> ?</span>
            </p>

            <div class="solution" data-type="multiple">
                <p><span class="sol" data-forms="integer" style="padding-right: 5px"><var>SOLUTION</var></span> <var>plural_form(LOCATION_DISPLAY)</var></p>
            </div>
        </div>

        <div id="extreme">
            <div class="vars">
                <var id="TYPE">randFromArray([ "smallest", "largest" ])</var>
                <var id="AMOUNT">TYPE === "smallest" ? RAW_DATA[ 0 ] : RAW_DATA[ RAW_DATA.length - 1 ]</var>
                <var id="IS_SOLUTION">function( x ) { return x === AMOUNT; }</var>
                <var id="SOLUTION">AMOUNT</var>
            </div>

            <p class="question">
                <span data-if="TYPE === 'smallest'">Quel était le plus petit nombre de <var>plural_form(ITEM)</var> à chaque <var>LOCATION_DISPLAY</var>?</span>
                <span data-if="TYPE === 'largest'">Quel était le plus grand nombre de <var>plural_form(ITEM)</var> à chaque <var>LOCATION_DISPLAY</var>?</span>
            </p>

            <div class="solution" data-type="multiple">
                <p><span class="sol" data-forms="integer" style="padding-right: 5px"><var>SOLUTION</var></span> <var>plural_form(ITEM)</var></p>
            </div>
        </div>
    </div>

</div>
</body>
</html>
