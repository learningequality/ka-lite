<!DOCTYPE html>
<html data-require="math graphie graphie-helpers graphie-geometry math-format">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Les différents types de triangles</title>
<script src="../khan-exercise.js"></script><script>
        function scTriangle(){
            while( ! a || a === b || a === c || b === c ){
                var a = KhanUtil.randRange( 25, 150 );
                var b = KhanUtil.randRange( 25, 180 - a );
                if ( a + b > 170 ){
                    a = Math.max( 30, a - 15  );
                    b = Math.max( 30, b - 15  );
                }
                var c = 180 - a - b;
            }
            var sa = KhanUtil.randRange( 4, 8 );
            var sb = sa * Math.sin( b * Math.PI / 180 )  / Math.sin( a * Math.PI / 180 );
            var sc = sa * Math.sin( c * Math.PI / 180 )  / Math.sin( a * Math.PI / 180 );
            if ( Math.abs( a - b ) < 5 || Math.abs( a - c ) < 5  || Math.abs( b - c ) < 5 ){
                return scTriangle();
            }
            return [ [ a, b, c ] , [ KhanUtil.localeToFixed(sa, 1), KhanUtil.localeToFixed(sb, 1), KhanUtil.localeToFixed(sc, 1) ] ];
        }

        function eqTriangle(){
            var a = KhanUtil.randRange( 4, 8 );
            return [ [ 60, 60, 60 ], [ a, a, a ] ];
        }

        function isoTriangle(){
            var a = KhanUtil.randRange( 25, 75 );
            var c = 180 - 2 * a;
            var sa = KhanUtil.randRange( 4, 8 );
            var sc = sa * Math.sin( c * Math.PI / 180 )  / Math.sin( a * Math.PI / 180 );
            var ang = [ a, a, a ];
            var sides = [ sa, sa, sa ];
            var oddside = KhanUtil.randRange( 0, 2 );
            ang[ oddside ] = c;
            sides[ oddside ] = KhanUtil.localeToFixed(sc, 1);
            if( a == 60 ){
                return isoTriangle();
            }
            return [ ang , sides ];
        }

    </script>
</head>
<body>
    <div class="exercise">
        <div class="vars">
            <var id="TYPES">[ "Equilateral", "Isosceles", "Scalene" ]</var>
            <var id="DISPLAY_TYPES">[ $._("\u00c9quilat\u00e9ral"), $._("Isoc\u00e8le"), $._("Quelconque") ]</var>
            <var id="TYPE_NUM">randRange(0, 2)</var>
            <var id="TYPE">TYPES[TYPE_NUM]</var>
            <var id="DISPLAY_TYPE">DISPLAY_TYPES[TYPE_NUM]</var>
            <var id="TRIANGLE">function(){return"Equilateral"===TYPE?eqTriangle():"Isosceles"===TYPE?isoTriangle():"Scalene"===TYPE?scTriangle():void 0}()</var>
        </div>

        <div class="problems">
            <div id="knownAngles">
                <div class="problem">Ce triangle est-il équilatéral, isocèle ou quelconque ?</div>
                <div class="question">
                    <div class="graphie" id="typeTr">var tr=new Triangle([0,0],TRIANGLE[0],5,{});tr.labels={angles:clearArray(tr.niceAngles,[0,1])},tr.rotate(randRange(0,90)),init({range:tr.boundingRange(1)}),tr.draw(),tr.drawLabels(),graph.TR=tr</div>
                </div>

                <div class="solution" data-type="multiple">
                    <p>Cocher toutes les réponses possibles.</p>
                    <p>
                        <label>
                            <span class="sol" data-type="checkbox">
                                <var>TYPE === "Equilateral"</var>
                            </span>
                            Equilateral
                        </label>
                    </p>
<p>
                        <label>
                            <span class="sol" data-type="checkbox">
                                <var>TYPE === "Equilateral" || TYPE === "Isosceles"</var>
                            </span>
                            Isosceles
                        </label>
                    </p>
<p>
                        <label>
                            <span class="sol" data-type="checkbox">
                                <var>TYPE === "Scalene"</var>
                            </span>
                            Scalene
                        </label>
                    </p>
                </div>

                <div class="hints">
                    <p>On connaît deux angles de ce triangle, donc on peut calculer le troisième en les soustrayant de <code>180</code> degrés.</p>
                    <div>
                        <p><code>180 -<var>TRIANGLE[ 0 ][ 0 ]</var> - <var>TRIANGLE[ 0 ][ 1 ]</var> = <var>TRIANGLE[ 0 ][ 2 ]</var></code></p>
                        <div class="graphie" data-update="typeTr">graph.TR.labels={angles:graph.TR.niceAngles},graph.TR.drawLabels()</div>
                    </div>
                <p data-if="TYPE === 'Scalene'">Les trois angles sont différents, donc ce triangle est quelconque.</p>
                    <p data-else-if="TYPE === 'Isosceles'">Deux angles sont égaux, donc deux des côtés le sont aussi. Le triangle est isocèle. Isocèle vient de isos (même) et scelos (jambe).</p>
                    <p data-else="">Tous les angles mesurent 60 degrés. Cela signifie que tous les côtés sont égaux et que le triangle est équilatéral. Le triangle est aussi isocèle puisqu'au moins deux côtés ont la même longueur. Isocèle signifie qu'un triangle a deux côtés de même longueur.</p>
                </div>
            </div>
            <div id="knownSides" data-type="knownAngles">
                <div class="question">
                    <div class="graphie">var tr=new Triangle([0,0],TRIANGLE[0],5,{});tr.labels={sides:tr.niceSideLengths},tr.rotate(randRange(0,90)),init({range:tr.boundingRange(1)}),tr.draw(),tr.drawLabels()</div>
                </div>
                <div class="hints">
                    <p data-if="TYPE === 'Scalene'">Les trois côtés sont différents, donc ce triangle est quelconque.</p>
                    <p data-else-if="TYPE === 'Isosceles'">Deux côtés sont égaux, donc le triangle est isocèle. Isocèle vient de isos (même) et scelos (jambe).</p>
                    <p data-else="">Tous les côtés ont la même longueur. Cela signifie aussi que tous les angles mesurent 60 degrés et que le triangle est équilatéral. Le triangle est aussi isocèle parce qu'au moins deux côtés sont de la même longueur. Isocèle vient de isos (même) et scelos (jambe). </p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
