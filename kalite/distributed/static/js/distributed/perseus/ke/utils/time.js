(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
$.extend(KhanUtil,{addAnalogClock:function(t){var e=$.extend(!0,{graph:KhanUtil.currentGraph,set:KhanUtil.currentGraph.raphael.set(),hands:KhanUtil.currentGraph.raphael.set(),center:[0,0],radius:3.5,showLabels:!0,hour:null,minute:null},t);return e.drawLabels=function(){var t=this;_(12).times(function(e){e+=1;var r=t.graph.scalePoint([t.center[0]+.78*t.radius*Math.sin(2*Math.PI*e/12),t.center[1]+.78*t.radius*Math.cos(2*Math.PI*e/12)]),n=t.graph.raphael.text(r[0],r[1],e);n.attr({color:KhanUtil.GRAY,fill:KhanUtil.GRAY,"font-size":14}),t.set.push(n)}),t.hands.toFront()},e.drawHands=function(){var t=this;t.graph.style({fill:"#333",stroke:"none"},function(){var e=t.graph.path([[t.center[0]-.15*t.radius,t.center[1]+.035*t.radius],[t.center[0]+.45*t.radius,t.center[1]+.02*t.radius],[t.center[0]+.45*t.radius,t.center[1]-.02*t.radius],[t.center[0]-.15*t.radius,t.center[1]-.035*t.radius],!0]);e.rotate(-KhanUtil.timeToDegrees(5*(t.hour+t.minute/60)),t.graph.scalePoint(t.center)[0],t.graph.scalePoint(t.center)[1]),t.hands.push(e);var r=t.graph.path([[t.center[0]-.15*t.radius,t.center[0]+.035*t.radius],[t.center[0]+.85*t.radius,t.center[0]+.017*t.radius],[t.center[0]+.85*t.radius,t.center[0]-.017*t.radius],[t.center[0]-.15*t.radius,t.center[0]-.035*t.radius],!0]);r.rotate(-KhanUtil.timeToDegrees(t.minute),t.graph.scalePoint(t.center)[0],t.graph.scalePoint(t.center)[1]),t.hands.push(r)}),t.set.push(t.hands)},e.draw=function(){var t=this;return t.graph.style({stroke:KhanUtil.GRAY,fill:"#fff",strokeWidth:5},function(){t.set.push(t.graph.circle(t.center,t.radius))}),t.graph.style({stroke:KhanUtil.GRAY,strokeWidth:4},function(){_(12).times(function(e){var r=t.graph.line([t.center[0]+t.radius-4/t.graph.scale[0],t.center[1]],[t.center[0]+t.radius-8/t.graph.scale[0],t.center[1]]);r.rotate(30*e,t.graph.scalePoint(t.center)[0],t.graph.scalePoint(t.center)[1]),t.set.push(r)})}),t.graph.style({stroke:KhanUtil.GRAY,strokeWidth:1},function(){_(60).times(function(e){var r=t.graph.line([t.center[0]+t.radius-4/t.graph.scale[0],t.center[1]],[t.center[0]+t.radius-8/t.graph.scale[0],t.center[1]]);r.rotate(6*e,t.graph.scalePoint(t.center)[0],t.graph.scalePoint(t.center)[1]),t.set.push(r)})}),t.showLabels&&t.drawLabels(),null!=t.hour&&null!=t.minute&&t.drawHands(),t.set},e},addInteractiveAnalogClock:function(t){t=$.extend(!0,{minuteSnapPoints:12,minuteIncrement:5,minuteStartAngle:90,hourStartAngle:60},t);var e=KhanUtil.addAnalogClock(t),r=e.graph,n=720/e.minuteIncrement,o=1.1*e.radius;e.minuteRadius=.65*e.radius,e.hourRadius=.45*e.radius;var a=360/e.minuteSnapPoints,i=360/n;e.draw(),r.addMouseLayer();var s={fill:KhanUtil.RED,stroke:KhanUtil.RED},h={fill:KhanUtil.BLUE,stroke:KhanUtil.BLUE},d=function(t){var e=t.x,r=t.y,n=t.point,o=t.outerPoint,a=t.isOuterPoint,i=o.constraints.fixedDistance.dist/n.constraints.fixedDistance.dist;return a?(i=1/i,n.setCoord([e*i,r*i]),o.setCoord([e,r])):(n.setCoord([e,r]),o.setCoord([e*i,r*i])),n.updateLineEnds(),!0};return e.minutePoint=r.addMovablePoint({graph:r,coord:r.polar(e.minuteRadius,e.minuteStartAngle),constraints:{fixedDistance:{dist:e.minuteRadius,point:[0,0],snapPoints:12}},onMove:function(t,r){return d({x:t,y:r,point:this,outerPoint:e.outerMinutePoint,isOuterPoint:!1})},normalStyle:s,highlightStyle:s}),e.outerMinutePoint=r.addMovablePoint({graph:r,coord:r.polar(o,e.minuteStartAngle),constraints:{fixedDistance:{dist:o,point:[0,0],snapPoints:12}},onMove:function(t,r){return d({x:t,y:r,point:e.minutePoint,outerPoint:this,isOuterPoint:!0})},normalStyle:s,highlightStyle:s}),e.hourPoint=r.addMovablePoint({graph:r,coord:r.polar(e.hourRadius,e.hourStartAngle),constraints:{fixedDistance:{dist:e.hourRadius,point:[0,0],snapPoints:n}},onMove:function(t,r){return d({x:t,y:r,point:this,outerPoint:e.outerHourPoint,isOuterPoint:!1})},normalStyle:h,highlightStyle:h}),e.outerHourPoint=r.addMovablePoint({graph:r,coord:r.polar(o,e.hourStartAngle),constraints:{fixedDistance:{dist:o,point:[0,0],snapPoints:n}},onMove:function(t,r){return d({x:t,y:r,point:e.hourPoint,outerPoint:this,isOuterPoint:!0})},normalStyle:h,highlightStyle:h}),e.minuteHand=r.addMovableLineSegment({graph:r,pointA:e.minutePoint,coordZ:[0,0],fixed:!0,normalStyle:{stroke:KhanUtil.RED,"stroke-width":10}}),e.hourHand=r.addMovableLineSegment({graph:r,pointA:e.hourPoint,coordZ:[0,0],fixed:!0,normalStyle:{stroke:KhanUtil.BLUE,"stroke-width":10}}),r.addMovablePoint({graph:r,coord:[0,0],constraints:{fixed:!0},normalStyle:{fill:"#fff",stroke:"#000","stroke-width":2}}),e.getHandPositions=function(){return[e.minutePoint.coord,e.hourPoint.coord]},e.validate=function(t,n,o){var s=r.cartToPolar(t[0])[1],h=r.cartToPolar(t[1])[1];if(s=KhanUtil.roundToNearest(a,s),h=KhanUtil.roundToNearest(i,h),s===e.minuteStartAngle&&h===e.hourStartAngle)return"";var d=KhanUtil.timeToDegrees(n),l=KhanUtil.timeToDegrees(5*(o+n/60));return d=KhanUtil.roundToNearest(a,d),l=KhanUtil.roundToNearest(i,l),s!==d||h!==l?s===l&&h===d?i18n._("Remember the hour hand is the short hand and the minute hand is the long hand"):s===d&&h!==l&&h===KhanUtil.roundToNearest(i,KhanUtil.timeToDegrees(5*o))?i18n._("Remember the hour hand needs to move over the course of the hour"):!1:!0},e.showCorrectTime=function(t,n){var o=KhanUtil.timeToDegrees(t),s=KhanUtil.timeToDegrees(5*(n+t/60));o=KhanUtil.roundToNearest(a,o),s=KhanUtil.roundToNearest(i,s);var h=r.polar(e.minuteRadius,o),d=r.polar(e.hourRadius,s),l=.4,u=.3;e.graph.addMovableLineSegment({coordA:h,coordZ:[0,0],fixed:!0,normalStyle:{stroke:KhanUtil.RED,"stroke-width":10,"stroke-dasharray":".","stroke-linecap":"round","stroke-opacity":l}}),e.graph.addMovableLineSegment({coordA:h,coordZ:[0,0],fixed:!0,normalStyle:{stroke:KhanUtil.RED,"stroke-width":10,"stroke-linecap":"round","stroke-opacity":u}}),e.graph.addMovableLineSegment({coordA:d,coordZ:[0,0],fixed:!0,normalStyle:{stroke:KhanUtil.BLUE,"stroke-width":10,"stroke-dasharray":".","stroke-linecap":"round","stroke-opacity":l}}),e.graph.addMovableLineSegment({coordA:d,coordZ:[0,0],fixed:!0,normalStyle:{stroke:KhanUtil.BLUE,"stroke-width":10,"stroke-linecap":"round","stroke-opacity":u}}),e.graph.addMovablePoint({coord:[0,0],constraints:{fixed:!0},normalStyle:{fill:"#fff",stroke:"#000","stroke-dasharray":"","stroke-width":2,"stroke-opacity":1}})},e},timeToDegrees:function(t,e){var r,n=t/60;return r=.25>=n?.25-n:1.25-n,e?2*Math.PI*r:360*r}});
},{}]},{},[1]);
